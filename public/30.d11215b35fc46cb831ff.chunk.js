webpackJsonp([30],{"./app/cb-utils/allRequiredSettingsForPluginHaveData.ts":function(e,t,a){"use strict";var n=a("./app/utils/types.ts"),s=function(e,t){if(e){var a=!0,s=!1,r=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var c=o.value,l=t[c.name];if(c.type===n.a.MULTI_OBJECT_SETTING_TYPE){var p=c.objectShape,u=!0,d=!1,m=void 0;try{for(var f,g=p[Symbol.iterator]();!(u=(f=g.next()).done);u=!0)for(var y=f.value,h=0,b=l.length;h<b;h+=1)if(y.required&&(void 0===l[h][y.name]||""===l[h][y.name]))return!1}catch(e){d=!0,m=e}finally{try{!u&&g.return&&g.return()}finally{if(d)throw m}}}else if(c.required&&(void 0===l||""===l))return!1}}catch(e){s=!0,r=e}finally{try{!a&&i.return&&i.return()}finally{if(s)throw r}}}return!0};t.a=s},"./app/cb-utils/groupOptions.tsx":function(e,t,a){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}a.d(t,"b",function(){return c});var s=a("./node_modules/react/index.js"),r=a.n(s),o=a("./node_modules/lodash/groupBy.js"),i=a.n(o),c=function(e){var t=i()(e,function(e){return e.group?e.group:"Other"});return Object.keys(t).sort(function(e,t){return e>t?1:-1}).reduce(function(e,a){return e.push.apply(e,[{name:a,display_name:a,disabled:!0}].concat(n(t[a]))),e},[])},l=function(e){return c(e).map(function(e,t){return e.disabled?r.a.createElement("option",{key:t,disabled:!0},"--- ",e.display_name," ---"):r.a.createElement("option",{key:t,"data-test":"typeOption",value:e.type_name,title:e.description||null},e.display_name)})};t.a=l},"./app/components/CbPluginSettingEditor/index.tsx":function(e,t,a){"use strict";var n=a("./node_modules/react/index.js"),s=a.n(n),r=a("./app/components/CbInputField/index.tsx"),o=a("./app/components/MultiObjectSettingEditor/index.tsx"),i=a("./app/containers/Portal/constants.ts"),c=function(e){return e.type===i.O?s.a.createElement(o.c,Object.assign({},e)):s.a.createElement(r.b,Object.assign({},e,{labelText:e.display_name}))};t.a=c},"./app/components/DatasourceSelect/index.tsx":function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=a("./node_modules/react/index.js"),i=a.n(o),c=a("./node_modules/react-intl/lib/index.es.js"),l=Object(c.e)({selectDatasource:{id:"app.components.DatasourceImportConfirmationModal.selectDatasource",defaultMessage:"Select datasource..."},badDsId:{id:"app.components.DatasourceImportConfirmationModal.badDsId",defaultMessage:"No datasource with id '{id}.' Either import the dependent datasource or select a different datasource"},datasource:{id:"app.components.DatasourceImportConfirmationModal.datasource",defaultMessage:"Datasource"},preferredDatasources:{id:"app.components.DatasourceImportConfirmationModal.preferredDatasources",defaultMessage:"---Preferred Datasources---"},otherDatasources:{id:"app.components.DatasourceImportConfirmationModal.otherDatasources",defaultMessage:"---Other Datasources---"}}),p=a("./app/utils/types.ts"),u=a("./app/components/CbInputField/index.tsx"),d=a("./app/cb-utils/models/PortalModel.ts"),m=a("./node_modules/react-bootstrap-typeahead/lib/index.js"),f=a("./node_modules/lodash/groupBy.js"),g=a.n(f),y=a("./node_modules/lodash/map.js"),h=a.n(y),b=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),v=d.a.getInstance(),C="true",E=function(e){function t(e){n(this,t);var a=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.renderProps={},a.getDatasourceError=function(){var e=a.props.value;return v.hasDatasourceWithId(e)?{}:{showError:!0,error:a.props.intl.formatMessage(l.badDsId,{id:e})}},a.renderMenu=function(e,t){var a=0,n=g()(e,function(e){return e.preferred}),s=Object.keys(n).sort(function(e,t){return e===C?-1:t===C?1:0}).map(function(e){return[!!a&&i.a.createElement(m.Menu.Divider,{key:e+"-divider"}),i.a.createElement(m.Menu.Header,{key:e+"-header"},e===C?i.a.createElement(c.b,Object.assign({},l.preferredDatasources)):i.a.createElement(c.b,Object.assign({},l.otherDatasources))),h()(n[e],function(e){var n=i.a.createElement(m.MenuItem,{key:a,option:e,position:a},i.a.createElement(m.Highlighter,{search:t.text},e.name));return a+=1,n})]});return i.a.createElement(m.Menu,Object.assign({},t),s)},e.groupDatasources&&(a.renderProps={renderMenu:a.renderMenu}),a}return r(t,e),b(t,[{key:"render",value:function(){var e=this.props,t=e.datasources,a=e.value,n=e.onChange,s=e.intl.formatMessage,r=e.labelText,o=e.size,c=e.inlineSize;return i.a.createElement(u.b,Object.assign({size:o,inlineSize:c,type:p.a.TYPE_AHEAD_TYPE,placeholder:s(l.selectDatasource),labelText:r,name:"",display_name:""},this.getDatasourceError(),this.renderProps,{value:a,onChange:function(e){var t=e.target.value;t&&v.hasDatasourceWithId(t)&&n(e)},allowNew:!1,options:t}))}}]),t}(i.a.PureComponent);t.a=Object(c.f)(E)},"./app/components/DatasourceSettingsModal/index.tsx":function(e,t,a){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var f=a("./node_modules/react/index.js"),g=a.n(f),y=a("./node_modules/reactstrap/dist/reactstrap.es.js"),h=a("./app/components/CbPluginSettingEditor/index.tsx"),b=a("./app/components/DatasourceSelect/index.tsx"),v=a("./app/components/CbInputField/index.tsx"),C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},E=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),D=function(e){function t(){s(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={list:e.props.list},e.handleDatasourceAdd=function(){var t=e.props.options[0]?e.props.options[0].id:"",a=[].concat(n(e.state.list),[t]);e.setState(C({},e.state,{list:a})),e.props.onChange(a)},e.renderList=function(t){return t.length>0?g.a.createElement("div",null,t.map(e.renderSelectBox),g.a.createElement(y.e,{onClick:e.handleDatasourceAdd},"Add  +")):g.a.createElement("div",null,"No datasources to choose")},e.renderSelectBox=function(t,a){return g.a.createElement(y.w,{row:!0,key:a},g.a.createElement(b.a,{labelText:a+1+")",value:t,onChange:e.handleDatasourceChange.bind(e,a),datasources:e.props.options.map(function(e){return{name:e.name,value:e.id,preferred:!1}}),size:10,inlineSize:"inherit"}),g.a.createElement(y.o,{sm:2,style:v.a},e.renderDeleteButton(a)))},e.renderDeleteButton=function(t){if(t>0)return g.a.createElement(y.e,{onClick:e.handleDatasourceDelete.bind(e,t)},"×")},e}return o(t,e),E(t,[{key:"render",value:function(){return g.a.createElement(y.g,null,g.a.createElement(y.h,null,this.renderList(this.state.list)))}},{key:"handleDatasourceChange",value:function(e,t){var a=[].concat(n(this.state.list.slice(0,e)),[t.target.value],n(this.state.list.slice(e+1)));this.setState(C({},this.state,{list:a})),this.props.onChange(a)}},{key:"handleDatasourceDelete",value:function(e){var t=[].concat(n(this.state.list.slice(0,e)),n(this.state.list.slice(e+1)));this.setState(C({},this.state,{list:t})),this.props.onChange(t)}}]),t}(g.a.Component),M=D,x=a("./app/containers/Portal/constants.ts"),_=a("./app/cb-utils/models/PortalModel.ts"),O=a("./app/cb-utils/groupOptions.tsx"),j=a("./app/cb-utils/allRequiredSettingsForPluginHaveData.ts"),S=a("./app/plugins/datasources/types.ts"),w=a("./app/components/FlexModalHeader/index.tsx"),T=a("./app/components/ExportPluginButton/index.tsx"),P=a("./app/components/ImportPluginButton/index.tsx"),I=a("./node_modules/react-intl/lib/index.es.js"),A=Object(I.e)({exportDatasource:{id:"app.components.DatasourceSettingsModal.exportDatasource",defaultMessage:"Export Datasource"},importDatasource:{id:"app.components.DatasourceSettingsModal.importDatasource",defaultMessage:"Import Datasource"},importDatasourceSuccess:{id:"app.components.DatasourceSettingsModal.importDatasourceSuccess",defaultMessage:"Successfully imported datasource"},importDatasourceError:{id:"app.components.DatasourceSettingsModal.importDatasourceError",defaultMessage:"Incorrect datasource format"},importDatasourceHelp:{id:"app.components.DatasourceSettingsModal.importDatasourceHelp",defaultMessage:"Datasource configurations can be imported from any portal. To create a datasource from a saved configuration, first create a datasource with the desired settings and save it. Once the datasource has been saved, open the edit dialog for the datasource and hit export. This will trigger a download of the datasources .json file which can then be imported here."},exportDatasourceHelp:{id:"app.components.DatasourceSettingsModal.exportDatasourceHelp",defaultMessage:"Export this datasources .json file in order to reuse this datasources configuration in a portal."}}),k=a("./app/components/DatasourceSettingsModal/utils.ts"),F=Object(I.e)({mainText:{id:"app.components.DatasourceImportConfirmationModal.mainText",defaultMessage:"A datasource with the ID '{id}' already exists in this portal."},subText:{id:"app.components.DatasourceImportConfirmationModal.subText",defaultMessage:"Would you like to replace this datasource or create a new one with a new ID?"},replaceBtnText:{id:"app.components.DatasourceImportConfirmationModal.replaceBtnText",defaultMessage:"Replace"},createBtnText:{id:"app.components.DatasourceImportConfirmationModal.createBtnText",defaultMessage:"Create New"}}),N=a("./app/containers/Console/messages.ts"),R=function(e){return g.a.createElement(y.J,{isOpen:!0},g.a.createElement(y.K,null,g.a.createElement("h5",null,g.a.createElement(I.b,Object.assign({},F.mainText,{values:{id:e.id}}))),g.a.createElement("hr",null),g.a.createElement("p",null,g.a.createElement("em",null,g.a.createElement(I.b,Object.assign({},F.subText))))),g.a.createElement(y.L,null,g.a.createElement(y.e,{color:"success",onClick:e.onCreate,"data-cy":"create-new-datasource"},g.a.createElement(I.b,Object.assign({},F.createBtnText))),g.a.createElement(y.e,{color:"primary",onClick:e.onReplace,"data-cy":"replace-datasource"},g.a.createElement(I.b,Object.assign({},F.replaceBtnText))),g.a.createElement(y.e,{onClick:e.onCancel},g.a.createElement(I.b,Object.assign({},N.a.cancel)))))},H=R,B=a("./node_modules/uuid/v4.js"),L=a.n(B),U=a("./app/components/Tabs/index.tsx"),W=a("./node_modules/styled-components/dist/styled-components.browser.esm.js"),z=a("./app/components/CbCodeEditor/index.tsx"),V=Object(I.e)({never:{id:"app.containers.LatestDataForDatasource.never",defaultMessage:"This datasource hasn't received any data yet"}}),q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},G=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),K=_.a.getInstance(),Y=W.b.div.withConfig({displayName:"LatestDataForDatasource__Wrapper"})(["height: 60vh;"]),Q=function(e){function t(e){i(this,t);var a=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleUpdate=function(){a.setState(J({},a.state,a.pickStateFromModel(a.datasourceInstance)))},a.datasourceInstance=K.getDatasourceInstanceById(e.id),a.datasourceInstance.latestData.subscribe(a.handleUpdate),a.state=J({},a.pickStateFromModel(a.datasourceInstance)),a}return l(t,e),G(t,[{key:"componentWillUnmount",value:function(){this.datasourceInstance.latestData.unsubscribe(this.handleUpdate)}},{key:"render",value:function(){var e=this.state.data,t="object"===(void 0===e?"undefined":q(e));return g.a.createElement("div",null,this.state.date?g.a.createElement(g.a.Fragment,null,g.a.createElement("h4",{style:{textAlign:"center"}},this.state.date,":"),g.a.createElement(Y,{id:"latestDataForDatasourceWrapper"},g.a.createElement(z.default,{language:t?z.CbEditorLanguages.JSON:null,value:t?JSON.stringify(e,null,4):e,onChange:function(){},wrappingId:"latestDataForDatasourceWrapper",sideBarWidth:0}))):g.a.createElement("h6",{className:"text-center"},g.a.createElement(I.b,Object.assign({},V.never))))}},{key:"pickStateFromModel",value:function(e){return{date:e.lastUpdated&&e.lastUpdated.toLocaleString(),data:e.latestData()}}}]),t}(g.a.Component),X=Q,Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},$=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),ee=_.a.getInstance(),te=function(e){function t(){u(this,t);var e=d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={id:e.props.id||"",importedDatasource:null,isImport:!1,importShouldCreateNewDatasource:!1,name:e.props.name||"",datasourceType:e.props.type||S.b.MESSAGE_TOPIC,props:Z({},e.props.settings),currentTab:e.props.tab||k.a.settings},e.datasourceTypes=ee.getDatasourceTypes(),e.datasourceInstances=ee.getDatasourceInstances(),e.renderSettings=function(){var t={id:e.props.id,name:e.state.name,settings:e.state.props,type:e.state.datasourceType};return g.a.createElement(g.a.Fragment,null,g.a.createElement(w.a,null,e.props.title,g.a.createElement("div",{className:"ml-auto"},e.props.id?g.a.createElement(T.a,{btnText:A.exportDatasource,plugin:t,fileName:e.state.name,helpInfo:A.exportDatasourceHelp}):g.a.createElement(P.a,{btnText:A.importDatasource,shapeChecker:k.b,onComplete:e.handleImport,successMsg:e.props.intl.formatMessage(A.importDatasourceSuccess),badShapeMsg:e.props.intl.formatMessage(A.importDatasourceError),helpInfo:A.importDatasourceHelp}))),g.a.createElement(y.K,null,g.a.createElement(y.w,{row:!0},g.a.createElement(y.o,{sm:2},g.a.createElement(y.D,null,"Name")),g.a.createElement(y.o,{sm:10},g.a.createElement(y.y,{"data-cy":"datasource-name",placeholder:"Unique name...",value:e.state.name,autoFocus:""===e.state.name,onChange:function(t){return e._onSettingChange("name",t)}}))),g.a.createElement(y.w,{row:!0},g.a.createElement(y.o,{sm:2},g.a.createElement(y.D,null,"Type")),g.a.createElement(y.o,{sm:10},g.a.createElement(y.y,{type:"select",placeholder:"Select type...",value:e.state.datasourceType,onChange:function(t){return e._onTypeChange(t)},"data-cy":"selectDatasourceType"},e._renderDatasourceTypes(e.datasourceTypes)))),e.datasourceTypes[e.state.datasourceType].description&&g.a.createElement(y.U,null,g.a.createElement(y.o,{sm:2},g.a.createElement(y.D,null)),g.a.createElement(y.o,{sm:10},g.a.createElement("span",{className:"text-muted font-italic",style:{fontSize:"0.8rem"}},e.datasourceTypes[e.state.datasourceType].description))),g.a.createElement("hr",null),e._renderCustomProps(e.state.datasourceType,e.datasourceTypes[e.state.datasourceType].settings)),g.a.createElement(y.L,null,g.a.createElement(y.e,{color:"default",onClick:function(){return e.props.onDismiss()}},"Cancel"),g.a.createElement(y.e,{"data-cy":"save-ds",type:"submit",color:"primary",onClick:function(t){return e._onSubmit(t)},disabled:!e._isFormComplete()},"Apply")))},e.renderTabs=function(){return[{id:"settings",title:"Settings",component:e.renderSettings()},{id:"data",title:"Data",component:e.renderDataView()}]},e.renderDataView=function(){return g.a.createElement(g.a.Fragment,null,g.a.createElement(y.K,null,g.a.createElement(X,{id:e.props.id})),g.a.createElement(y.L,null,g.a.createElement(y.e,{onClick:e.props.onDismiss},"Dismiss")))},e.handleImport=function(t){ee.hasDatasourceWithId(t.id)?e.setState({importedDatasource:t}):e.setImportValues(t,!0)},e.setImportValues=function(t,a){e.setState({importedDatasource:null,importShouldCreateNewDatasource:a,isImport:!0,id:t.id,datasourceType:t.type,name:t.name,props:t.settings})},e.handleCreateFromImport=function(){e.setImportValues(Z({},e.state.importedDatasource,{id:L()()}),!0)},e.handleReplaceFromImport=function(){e.setImportValues(e.state.importedDatasource,!1)},e.handleCancelFromImport=function(){e.setState({importedDatasource:null,isImport:!1})},e._handleAggregatorListChange=function(t){e.setState({props:Z({},e.state.props,{datasources:t})})},e._isFormComplete=function(){return""!==e.state.name&&Object(j.a)(e.datasourceTypes[e.state.datasourceType].settings,e.state.props)},e._onSettingChange=function(t,a){e.setState(Z({},e.state,p({},t,a.target.value)))},e._onTypeChange=function(t){var a=t.target.value;e.setState({props:e._setDefaultValuesForSettings(e.datasourceTypes[a].settings,{}),datasourceType:a})},e._onDatasourcePropChange=function(t,a){e.setState({props:Z({},e.state.props,p({},t,a.target&&void 0!==a.target.value?a.target.value:a))})},e._onSubmit=function(t){t.preventDefault();var a={id:e.state.id,isImport:e.state.isImport,importShouldCreateNewDatasource:e.state.importShouldCreateNewDatasource,type:e.state.datasourceType,name:e.state.name,settings:e.state.props};e.props.onClose(a)},e._setDefaultValuesForSettings=function(e,t){var a=Z({},t);return e.forEach(function(e){void 0===a[e.name]&&void 0!==e.default_value&&(a[e.name]=e.default_value)}),a},e._getAggregatorOptions=function(){var t=[];for(var a in e.datasourceInstances)a!==e.props.id&&t.push(e.datasourceInstances[a]);return t},e._getAggregatorList=function(){if(e.state.props.datasources&&e.state.props.datasources.length)return e.state.props.datasources;if(Object.keys(e.datasourceInstances).length>0)for(var t in e.datasourceInstances)if(e.datasourceInstances.hasOwnProperty(t)&&t!==e.props.id)return[t];return[]},e._renderCustomProps=function(t,a){var n=[];return a&&(n=a.map(function(t){if(t.type!==x.l)return g.a.createElement(y.U,{key:t.name},g.a.createElement(h.a,Object.assign({},t,{size:12,onChange:function(a){return e._onDatasourcePropChange(t.name,a)},value:e.state.props[t.name]})))})),t===S.b.DATASOURCE_AGGREGATOR&&n.push(g.a.createElement(M,{key:"datasources",list:e._getAggregatorList(),options:e._getAggregatorOptions(),onChange:function(t){return e._handleAggregatorListChange(t)}})),n},e._renderDatasourceTypes=function(e){return Object(O.a)(e)},e}return m(t,e),$(t,[{key:"componentWillMount",value:function(){this.setState({props:this._setDefaultValuesForSettings(this.datasourceTypes[this.state.datasourceType].settings,this.state.props)})}},{key:"render",value:function(){var e=this;return g.a.createElement(y.J,{isOpen:!0,toggle:this.props.onDismiss,autoFocus:!1},g.a.createElement(y.v,{onSubmit:function(t){return e._onSubmit(t)},"data-cy":"datasource-form"},this.props.id?g.a.createElement(U.a,{tabs:this.renderTabs(),currentTab:this.state.currentTab,selectNewTab:function(t){e.setState({currentTab:t}),t===k.a.data&&setTimeout(function(){window.dispatchEvent(new Event("resize"))})}}):this.renderSettings()),this.state.importedDatasource&&g.a.createElement(H,{id:this.state.importedDatasource.id,onCreate:this.handleCreateFromImport,onReplace:this.handleReplaceFromImport,onCancel:this.handleCancelFromImport}))}}]),t}(g.a.Component);t.default=Object(I.f)(te)},"./app/components/ExportPluginButton/index.tsx":function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=a("./node_modules/react/index.js"),i=a.n(o),c=a("./app/components/Icons/index.ts"),l=a("./node_modules/react-intl/lib/index.es.js"),p=a("./app/components/ImportExportHelp/index.tsx"),u=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=function(e){function t(){return n(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.btnText,a=e.plugin,n=e.fileName,s=e.helpInfo;return i.a.createElement("div",null,s&&i.a.createElement(p.a,{bodyText:s}),i.a.createElement("a",{"data-cy":"export-plugin-button",className:"btn btn-primary",href:"data:text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(a)),download:n+".json"},i.a.createElement(c.j,null)," ",i.a.createElement(l.b,Object.assign({},t))))}}]),t}(i.a.PureComponent);t.a=d},"./app/components/FlexModalHeader/index.tsx":function(e,t,a){"use strict";var n=a("./node_modules/styled-components/dist/styled-components.browser.esm.js"),s=a("./node_modules/reactstrap/dist/reactstrap.es.js"),r=Object(n.b)(s.M).withConfig({displayName:"FlexModalHeader__FlexModalHeader"})([".modal-title {display: flex;width: 100%;}"]);t.a=r},"./app/components/ImportExportHelp/index.tsx":function(e,t,a){"use strict";var n=a("./node_modules/react/index.js"),s=a.n(n),r=a("./node_modules/reactstrap/dist/reactstrap.es.js"),o=a("./app/components/HelpPrimitive/index.tsx"),i=a("./node_modules/styled-components/dist/styled-components.browser.esm.js"),c=Object(i.b)(r.D).withConfig({displayName:"ImportExportHelp__LabelWrap"})(["margin-right: 0.5rem;"]),l=function(e){return s.a.createElement(c,{className:"text-muted"},s.a.createElement(o.a,{bodyText:e.bodyText}))};t.a=l},"./app/components/ImportPluginButton/index.tsx":function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=a("./node_modules/react/index.js"),i=a.n(o),c=a("./app/components/Icons/index.ts"),l=a("./node_modules/react-intl/lib/index.es.js"),p=a("./node_modules/react-redux/es/index.js"),u=a("./app/containers/Portal/actions.ts"),d=a("./app/components/ImportExportHelp/index.tsx"),m=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),f=function(e){function t(){n(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.fileInput=null,e.importPlugin=function(t){var a=t.target.files[0],n=new FileReader;n.onload=function(t){try{var a=JSON.parse(t.target.result);if(!e.props.shapeChecker(a))throw new Error(e.props.badShapeMsg);e.props.onComplete(a),e.props.onImportSuccess(e.props.successMsg),e.fileInput.value=""}catch(t){e.props.onImportError(t.message)}},n.readAsText(a)},e}return r(t,e),m(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.btnText,n=t.helpInfo;return i.a.createElement("div",null,n&&i.a.createElement(d.a,{bodyText:n}),i.a.createElement("label",{className:"btn btn-primary"},i.a.createElement(c.E,null)," ",i.a.createElement(l.b,Object.assign({},a)),i.a.createElement("input",{"data-cy":"import-plugin-input",type:"file",hidden:!0,accept:".json",onChange:this.importPlugin,ref:function(t){return e.fileInput=t}})))}}]),t}(i.a.Component),g=function(e){return{onImportSuccess:function(t){return e(Object(u.i)(t))},onImportError:function(t){return e(Object(u.d)(t))}}};t.a=Object(p.b)(null,g)(f)},"./app/containers/Console/messages.ts":function(e,t,a){"use strict";var n=a("./node_modules/react-intl/lib/index.es.js"),s=Object(n.e)({header:{id:"app.containers.Console.header",defaultMessage:"This is Console container !"},deploy:{id:"app.containers.Console.deploy",defaultMessage:"Deploy"},sync:{id:"app.containers.Console.sync",defaultMessage:"Sync"},assetClassCode:{id:"app.components.DeploymentAssetManager.assetClassCode",defaultMessage:"Code"},assetClassServices:{id:"app.components.DeploymentAssetManager.assetClassServices",defaultMessage:"Services"},assetClassPortals:{id:"app.components.DeploymentAssetManager.assetClassPortals",defaultMessage:"Portals"},assetClassLibraries:{id:"app.components.DeploymentAssetManager.assetClassLibraries",defaultMessage:"Libraries"},assetClassTriggers:{id:"app.components.DeploymentAssetManager.assetClassTriggers",defaultMessage:"Triggers"},assetClassTimers:{id:"app.components.DeploymentAssetManager.assetClassTimers",defaultMessage:"Timers"},assetClassRoles:{id:"app.components.DeploymentAssetManager.assetClassRoles",defaultMessage:"Roles"},assetClassAdapters:{id:"app.components.DeploymentAssetManager.assetClassAdapters",defaultMessage:"Adapters"},assetClassPlugins:{id:"app.components.DeploymentAssetManager.assetClassPlugins",defaultMessage:"Plugins"},assetClassUsers:{id:"app.components.DeploymentAssetManager.assetClassUsers",defaultMessage:"Users"},assetClassDevices:{id:"app.components.DeploymentAssetManager.assetClassDevices",defaultMessage:"Devices"},assetClassCollections:{id:"app.components.DeploymentAssetManager.assetClassCollections",defaultMessage:"Collections"},assetClassDeployments:{id:"app.components.DeploymentAssetManager.assetClassDeployments",defaultMessage:"Deployments"},assetClassEdges:{id:"app.components.DeploymentAssetManager.assetClassEdges",defaultMessage:"Edges"},assetClassMessageHistory:{id:"app.components.DeploymentAssetManager.assetClassMessageHistory",defaultMessage:"Message History"},assetClassSystems:{id:"app.components.DeploymentAssetManager.assetClassSystems",defaultMessage:"Systems"},assetClassMessages:{id:"app.components.MessagesPage.messages",defaultMessage:"Messages"},messageTopics:{id:"app.components.RoleDetailPage.messageTopics",defaultMessage:"Message Topics"},readPermission:{id:"app.components.SimplePermissionsCard.read",defaultMessage:"Read"},createPermission:{id:"app.components.SimplePermissionsCard.create",defaultMessage:"Create"},updatePermission:{id:"app.components.SimplePermissionsCard.update",defaultMessage:"Update"},deletePermission:{id:"app.components.SimplePermissionsCard.delete",defaultMessage:"Delete"},runPermission:{id:"app.components.SimplePermissionsCard.run",defaultMessage:"Run"},subscribePermission:{id:"app.components.SimplePermissionsCard.subscribe",defaultMessage:"Subscribe"},publishPermission:{id:"app.components.SimplePermissionsCard.publish",defaultMessage:"Publish"},allPermissions:{id:"app.containers.Console.allPermissions",defaultMessage:"All"},name:{id:"app.containers.Console.name",defaultMessage:"Name"},description:{id:"app.containers.console.description",defaultMessage:"Description"},architecture:{id:"app.containers.AdaptersPage.architecture",defaultMessage:"Architecture"},discardChanges:{id:"app.containers.Console.discardChanges",defaultMessage:"Discard changes"},saveAndExit:{id:"app.containers.Console.saveAndExit",defaultMessage:"Save and exit"},errorNameRequired:{id:"app.components.NewEdgeModal.errorNameRequired",defaultMessage:"Required"},errorSpaces:{id:"app.components.NewEdgeModal.errorSpaces",defaultMessage:"Cannot have spaces"},errorSpecialCharacters:{id:"app.components.NewEdgeModal.errorSpecialCharacters",defaultMessage:"Cannot have special characters"},about:{id:"app.containers.Console.about",defaultMessage:"About"},advanced:{id:"app.containers.Console.advanced",defaultMessage:"Advanced"},cancel:{id:"app.containers.Console.cancel",defaultMessage:"Cancel"},close:{id:"app.containers.Console.close",defaultMessage:"Close"},summary:{id:"app.containers.Console.summary",defaultMessage:"Summary: "},ipmImportError:{id:"app.containers.Console.ipmImportError",defaultMessage:"Import Error"}});t.a=s}});
//# sourceMappingURL=30.d11215b35fc46cb831ff.chunk.js.map