webpackJsonp([25],{"./app/cb-utils/formatError.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e){return"object"===(void 0===e?"undefined":a(e))?JSON.stringify(e):e}},"./app/components/AssetClassIconWrapper/index.tsx":function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./node_modules/react/index.js"),i=n.n(s),c=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=n("./app/cb-utils/withStyledProps.ts"),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  font-size: 2.5rem;\n  opacity: ",";\n  transition: opacity .3s ease-in-out;\n  -moz-transition: opacity .3s ease-in-out;\n  -webkit-transition: opacity .3s ease-in-out;\n"],["\n  font-size: 2.5rem;\n  opacity: ",";\n  transition: opacity .3s ease-in-out;\n  -moz-transition: opacity .3s ease-in-out;\n  -webkit-transition: opacity .3s ease-in-out;\n"]),m=Object(l.a)()(c.b.div)(d,function(e){return e.isOn?"1":".5"}),f=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={isOn:!0},e.handle=null,e.createInterval=function(){e.handle=setInterval(e.flipIt,300)},e.flipIt=function(){e.setState(u({},e.state,{isOn:!e.state.isOn}))},e}return o(t,e),p(t,[{key:"componentDidMount",value:function(){this.props.isFetching&&this.createInterval()}},{key:"componentWillReceiveProps",value:function(e){this.props.isFetching!==e.isFetching&&(e.isFetching?this.createInterval():(this.state.isOn||this.flipIt(),clearInterval(this.handle)))}},{key:"render",value:function(){return i.a.createElement(m,{isOn:this.state.isOn},this.props.children)}}]),t}(i.a.Component);f.defaultProps={isFetching:!1},t.a=f},"./app/components/ConsolePage/index.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),o=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),s=n("./app/components/ZeroState/index.tsx"),i=n("./app/components/LoadingIndicator/index.tsx"),c=o.b.div.withConfig({displayName:"ConsolePage__ContentWrapper"})(["padding: 0 2rem;"]),l=Object(o.b)("div").withConfig({displayName:"ConsolePage__BodyWrapper"})(["padding: 0 2rem;flex-grow: 1;height: 100%;overflow-y: ",";display: flex;padding-top: 0.1rem; /* add a tiny bit of padding so things in the body don't get cut off */"],function(e){return e.allowScroll?"auto":""}),u=function(e){return e.isFetchingAssets?r.a.createElement(i.a,{forPage:!0}):e.zeroState.show?r.a.createElement(l,{allowScroll:e.allowScroll},r.a.createElement(s.a,Object.assign({},e.zeroState))):r.a.createElement(r.a.Fragment,null,e.subheader&&r.a.createElement(c,null," ",e.subheader," "),r.a.createElement(l,{allowScroll:e.allowScroll},e.children))};u.defaultProps={isFetchingAssets:!1,allowScroll:!0,zeroState:{show:!1,title:null,info:null,addButton:null,icon:null}},t.a=u},"./app/components/ConsolePageHeader/index.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),o=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),s=o.b.div.withConfig({displayName:"ConsolePageHeader__Wrapper"})(["display: flex;align-items: center;margin-bottom: 2rem;flex-wrap: wrap;"]),i=o.b.div.withConfig({displayName:"ConsolePageHeader__SubHeaderWrapper"})(["flex-basis: 100%;"]),c=function(e){return r.a.createElement(s,null,r.a.createElement("h2",null,e.header&&e.header),r.a.createElement("div",{className:"ml-auto"},e.actionButton&&r.a.createElement(e.actionButton,null)),e.subHeader&&r.a.createElement(i,null," ",e.subHeader))};t.a=c},"./app/components/HoverCard/index.tsx":function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./node_modules/react/index.js"),i=n.n(s),c=n("./node_modules/material-ui-next/Card/index.js"),l=n.n(c),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),p=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={raised:!1},e.onMouseOver=function(){return e.setState({raised:!0})},e.onMouseOut=function(){return e.setState({raised:!1})},e}return o(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.showPointerCursor,n=e.className;return i.a.createElement(l.a,{raised:this.props.raised||this.state.raised,onMouseOver:this.onMouseOver,onMouseOut:this.onMouseOut,className:n+" "+(t?"c-pointer":"")},this.props.children)}}]),t}(i.a.Component);p.defaultProps={showPointerCursor:!1,raised:!1},t.a=p},"./app/components/ZeroState/index.tsx":function(e,t,n){"use strict";var a=n("./node_modules/react/index.js"),r=n.n(a),o=n("./node_modules/react-intl/lib/index.es.js"),s=n("./node_modules/reactstrap/dist/reactstrap.es.js"),i=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),c=Object(i.b)(s.C).withConfig({displayName:"ZeroState__JumboWrapper"})(["width: 100%;display: inline-table; /* note: this allows the jumbotron to only take up the space it needs, rather than the entire page */"]),l=function(e){return r.a.createElement(c,{className:e.className},r.a.createElement("h1",{className:"display-3"},e.icon,"Â ",r.a.createElement(o.b,Object.assign({},e.title))),r.a.createElement("p",{className:"lead"},r.a.createElement(o.b,Object.assign({},e.info))),r.a.createElement("hr",{className:"my-2"}),e.moreInfo&&r.a.createElement("p",null,e.moreInfo),r.a.createElement("p",{className:"lead"},e.addButton))};t.a=l},"./app/containers/SystemDetail/index.tsx":function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments[1];switch(t.type){case V.INIT_EXPORT_SYSTEM_FORM_SUCCESS:case V.ON_ASSET_TYPE_CHANGE:return Ue()(e,function(e){return e.assetTypes},function(){return t.payload.assetTypes});case V.EXPORT_SYSTEM_REQUEST:return Ue()(e,function(e){return e.isExporting},function(){return!0});case V.EXPORT_SYSTEM_SUCCESS:return Ue()(e,function(e){return De({},e,{isExporting:!1,success:!0,successResponse:t.payload.data})});case V.EXPORT_SYSTEM_ERROR:return Ue()(e,function(e){return De({},e,{isExporting:!1})});case Ge.a.CLEAN_UP_EXPORT_SYSTEM:return Ue()(e,function(){return Be});default:return e}}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function c(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(We.g)(V.EXPORT_SYSTEM_REQUEST,regeneratorRuntime.mark(function e(t){var n,a,r,o,s,i,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.payload.type,a=t.payload.metadata.name,e.next=5,Object(We.d)(ae.systemSelectors.currentSystem());case 5:return r=e.sent,o=r.name,e.next=9,Object(We.d)(Object(Ze.e)(o));case 9:return s=e.sent,e.next=12,Object(We.d)(Object(Ze.c)(o));case 12:if(i=e.sent,c={developerEmail:t.payload.metadata.author.email,listOfAssets:Object($e.p)(s.data.tree,i),refSystemName:a,repoName:n===Le.FILE_SYSTEM?"local":a,systemDescription:t.payload.metadata.description,refDirName:s.data.sha,tags:dt(t.payload.metadata),metadata:t.payload.metadata},l=void 0,n!==Le.FILE_SYSTEM){e.next=21;break}return e.next=18,Object(We.b)(tt,c);case 18:l=e.sent,e.next=32;break;case 21:if(n!==Le.GITHUB){e.next=31;break}if(!localStorage[at.a]){e.next=28;break}return e.next=25,Object(We.b)(nt,localStorage[at.a],c);case 25:l=e.sent,e.next=29;break;case 28:throw new Error("No GitHub token");case 29:e.next=32;break;case 31:throw new Error("Export type not supported");case 32:return e.next=34,Object(We.c)(qe(l));case 34:e.next=40;break;case 36:return e.prev=36,e.t0=e.catch(0),e.next=40,Object(We.c)(Qe(e.t0));case 40:case"end":return e.stop()}},e,this,[[0,36]])}));case 2:case"end":return e.stop()}},it,this)}function l(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(We.g)(Ge.a.GET_CLIENT_ID_AND_ACCESS_TOKEN_ERROR,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(We.c)(Object(xe.g)(rt.a));case 2:case"end":return e.stop()}},e,this)}));case 2:case"end":return e.stop()}},ct,this)}function u(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(We.g)(Ge.a.GET_PACKAGE_STRUCTURE_SUCCESS,regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=mt(t.payload.resp.tree),e.next=3,Object(We.c)(ze({assetTypes:n}));case 3:case"end":return e.stop()}},e,this)}));case 2:case"end":return e.stop()}},lt,this)}function p(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(We.g)(V.EXPORT_SYSTEM_ERROR,regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(We.c)(Object(xe.j)({id:Ke()(),title:ot.exportError,body:Object(st.a)(t.payload.error)}));case 2:case"end":return e.stop()}},e,this)}));case 2:case"end":return e.stop()}},ut,this)}function d(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(We.a)([c(),l(),u(),p()]);case 2:case"end":return e.stop()}},pt,this)}function m(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function O(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function S(e,t){var n={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(n[a]=e[a]);return n}function v(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function P(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function k(e,t){return{onAssetTypeChange:function(t){return e(Ve(t))},getClientIdAndAccessToken:function(t){return e(Object(bt.i)(t))},cleanUp:function(){return e(Object(bt.a)())},onExport:function(n){return e(Je(t.match.params.type,n))},navBackToBeginningOfExport:function(){return e(Object(xe.g)(rt.a))}}}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function F(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function L(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function G(e,t){return{onCloseModal:function(){t.history.push(Object(Tn.a)(t.match.url))}}}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function Y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function K(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function z(e){return{openSettings:function(){return e(Object(xe.k)({component:"SystemSettingsModal",props:{}}))},createSystemFromGitHub:function(t,n){return e(Object(bt.c)(t,void 0,n,!0))}}}Object.defineProperty(t,"__esModule",{value:!0});var V,J=n("./node_modules/react/index.js"),q=n.n(J),Q=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),Z=n("./node_modules/react-redux/es/index.js"),$=n("./node_modules/react-helmet/lib/Helmet.js"),ee=n.n($),te=n("./node_modules/react-router-dom/index.js"),ne=n("./node_modules/redux/es/index.js"),ae=n("./app/containers/Console/ducks/index.ts"),re=n("./app/components/ConsolePage/index.tsx"),oe=n("./node_modules/reactstrap/dist/reactstrap.es.js"),se=n("./app/components/ConsolePageHeader/index.tsx"),ie=n("./app/cb-utils/console-entity-models/assetClassInfo.ts"),ce=n("./node_modules/react-intl/lib/index.es.js"),le=n("./app/components/HoverCard/index.tsx"),ue=n("./app/components/AssetClassIconWrapper/index.tsx"),pe=Q.b.div.withConfig({displayName:"AssetClassCardPrimitive__CardBodyContainer"})(["cursor: pointer;height: 150px;display: flex;color: black;"]),de=Object(Q.b)(oe.h).withConfig({displayName:"AssetClassCardPrimitive__MyCardBody"})(["width: 100%;"]),me=function(e){var t=e.isFetching,n=e.text,a=e.icon,r=e.msg;return q.a.createElement(le.a,{className:e.className?e.className:""},q.a.createElement(pe,null,q.a.createElement(de,{className:"text-center"},q.a.createElement(ue.a,{isFetching:t},q.a.createElement(a,null)),q.a.createElement("h5",{className:"text-truncate"},q.a.createElement(ce.b,Object.assign({},r))),!t&&q.a.createElement("div",{className:"text-truncate"},q.a.createElement("sub",null,n)))))},fe=me,be=n("./node_modules/reselect/es/index.js"),ye=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),he=Object(Q.b)(fe).withConfig({displayName:"AssetClassCard__CardWrapper"})(["margin-bottom: 1rem;"]),ge=function(e){function t(){a(this,t);var e=r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.myIcon=ie.a[e.props.assetClass].icon,e.myMessage=ie.a[e.props.assetClass].message,e}return o(t,e),ye(t,[{key:"componentWillMount",value:function(){this.props.init()}},{key:"componentWillReceiveProps",value:function(e){this.props.edge!==e.edge&&this.props.init()}},{key:"render",value:function(){var e=this.props,t=e.isFetching,n=e.count;return q.a.createElement(he,{className:this.props.className?this.props.className:"",isFetching:t,text:n,icon:this.myIcon,msg:this.myMessage})}}]),t}(q.a.PureComponent),Ee=function(e,t){return Object(be.b)({count:ie.a[t.assetClass].selector,isFetching:ie.a[t.assetClass].isFetching})},Oe=function(e,t){return{init:function(){e(ie.a[t.assetClass].action(t.systemKey))}}},_e=Object(Z.b)(Ee,Oe)(ge),je=n("./app/components/EntityIcons/index.ts"),xe=n("./app/containers/Console/actions/ui.ts"),Se=n("./app/components/Icons/index.ts"),ve=n("./app/containers/Console/routes/index.ts"),Te=n("./app/cb-utils/getUrls.ts"),Ce=Object(ce.e)({header:{id:"app.containers.ExportSystemModal.header",defaultMessage:"Export System"},selectDestination:{id:"app.containers.ExportSystemModal.selectDestination",defaultMessage:"Select a destination:"},github:{id:"app.containers.ExportSystemModal.github",defaultMessage:"GitHub"},fileSystem:{id:"app.containers.ExportSystemModal.fileSystem",defaultMessage:"File system"}}),we=n("./app/utils/injectSaga.tsx"),Pe=n("./node_modules/formik/dist/formik.js"),ke=n("./node_modules/yup/lib/index.js"),Me=n.n(ke),Ne=n("./app/components/FormikInputWrapper/index.tsx"),Re=n("./app/utils/injectReducer.tsx"),Ie=function(){return function(e){return e.ExportSystemForm}},Ae=function(){return Object(be.a)(Ie(),function(e){return e})},Fe=Ae,He=n("./node_modules/immutable-assign/deploy/iassign.js"),Ue=n.n(He);!function(e){e.INIT_EXPORT_SYSTEM_FORM_SUCCESS="INIT_EXPORT_SYSTEM_FORM_SUCCESS",e.ON_ASSET_TYPE_CHANGE="ON_ASSET_TYPE_CHANGE",e.EXPORT_SYSTEM_REQUEST="EXPORT_SYSTEM_REQUEST",e.EXPORT_SYSTEM_SUCCESS="EXPORT_SYSTEM_SUCCESS",e.EXPORT_SYSTEM_ERROR="EXPORT_SYSTEM_ERROR"}(V||(V={}));var Le,Ge=n("./app/containers/Console/actions/ipmConstants.ts"),De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Be={isExporting:!1,success:!1,successResponse:{zipAddress:""},assetTypes:[]},Ye=s,We=n("./node_modules/redux-saga/es/effects.js"),Xe=n("./node_modules/uuid/v4.js"),Ke=n.n(Xe),ze=function(e){return{type:V.INIT_EXPORT_SYSTEM_FORM_SUCCESS,payload:e}},Ve=function(e){return{type:V.ON_ASSET_TYPE_CHANGE,payload:{assetTypes:e}}},Je=function(e,t){return{type:V.EXPORT_SYSTEM_REQUEST,payload:{type:e,metadata:t}}},qe=function(e){return{type:V.EXPORT_SYSTEM_SUCCESS,payload:{data:e}}},Qe=function(e){return{type:V.EXPORT_SYSTEM_ERROR,payload:{error:e}}};!function(e){e.GITHUB="github",e.FILE_SYSTEM="file_system"}(Le||(Le={}));var Ze=n("./app/containers/Console/selectors/ipm.ts"),$e=n("./app/cb-utils/console-entity-models/ipm.ts"),et=n("./app/cb-utils/cbFetch.ts"),tt=function(e){return Object(et.d)("/console-api/batch/export/filesystem",{method:et.a.POST,body:JSON.stringify(e)})},nt=function(e,t){return Object(et.d)("/console-api/batch/export/github",{method:et.a.POST,body:JSON.stringify(t),headers:{githubOauthAccessToken:e}})},at=n("./app/cb-utils/console-entity-models/github.ts"),rt=n("./app/containers/Console/routes/exportSystemModal.ts"),ot=Object(ce.e)({imageUrl:{id:"app.containers.ExportSystemForm.imageUrl",defaultMessage:"Image"},version:{id:"app.containers.ExportSystemForm.version",defaultMessage:"Version"},license:{id:"app.containers.ExportSystemForm.license",defaultMessage:"License"},keywords:{id:"app.containers.ExportSystemForm.keywords",defaultMessage:"Keywords"},advancedTags:{id:"app.containers.ExportSystemForm.advancedTags",defaultMessage:"Advanced Tags"},assetTypes:{id:"app.containers.ExportSystemForm.assetTypes",defaultMessage:"Asset Types"},protocols:{id:"app.containers.ExportSystemForm.protocols",defaultMessage:"Protocols"},things:{id:"app.containers.ExportSystemForm.things",defaultMessage:"Things"},domains:{id:"app.containers.ExportSystemForm.domains",defaultMessage:"Domains"},gateways:{id:"app.containers.ExportSystemForm.gateways",defaultMessage:"Gateways"},prog_lang:{id:"app.containers.ExportSystemForm.prog_lang",defaultMessage:"Programming Lang"},clouds:{id:"app.containers.ExportSystemForm.clouds",defaultMessage:"Clouds"},helpName:{id:"app.containers.ExportSystemForm.helpName",defaultMessage:"Name of new package and the GitHub repository"},helpDescription:{id:"app.containers.ExportSystemForm.helpDescription",defaultMessage:"This becomes part of the Readme if exported to GitHub"},helpLicense:{id:"app.containers.ExportSystemForm.helpLicense",defaultMessage:"Specify a license for your package. Default is MIT"},helpKeywords:{id:"app.containers.ExportSystemForm.helpKeywords",defaultMessage:"These keywords increase the searchability of your system in clearblade import. Searchability on GitHub is also increased as these keywords become the topics of the repository if exported to GitHub"},helpImage:{id:"app.containers.ExportSystemForm.helpImage",defaultMessage:"Specify an image URL or upload an image to Imgur to represent your package. Default is prepopulated."},exportError:{id:"app.containers.ExportSystemForm.exportError",defaultMessage:"Export Error"}}),st=n("./app/cb-utils/formatError.ts"),it=regeneratorRuntime.mark(c),ct=regeneratorRuntime.mark(l),lt=regeneratorRuntime.mark(u),ut=regeneratorRuntime.mark(p),pt=regeneratorRuntime.mark(d),dt=function(e){return[].concat(i(e.keywords),i(e.clouds),i(e.domains),i(e.things),i(e.gateways),i(e.prog_lang),i(e.protocols))},mt=function(e){var t=[];return e.forEach(function(e){for(var n in $e.a)e.path===$e.a[n]&&-1===t.indexOf(n)&&t.push(n)}),t},ft=n("./app/containers/PackageFilePicker/index.tsx"),bt=n("./app/containers/Console/actions/ipm.ts"),yt=n("./app/components/Tabs/index.tsx"),ht=n("./app/containers/Console/messages.ts"),gt=n("./app/utils/types.ts"),Et=n("./app/components/CbCollapseArea.tsx"),Ot=n("./app/components/CbButton/index.tsx"),_t=n("./app/containers/Console/selectors/currentUser.ts"),jt=Object(ce.e)({clickHereToDownload:{id:"app.components.ExportSystemSuccess.clickHereToDownload",defaultMessage:"Click here to download"},success:{id:"app.components.ExportSystemSuccess.success",defaultMessage:"Export success!"},findPackageHere:{id:"app.components.ExportSystemSuccess.findPackageHere",defaultMessage:"You can find your package here:"},joinUs:{id:"app.components.ExportSystemSuccess.joinUs",defaultMessage:"Join the community!"},joinUsDetail:{id:"app.components.ExportSystemSuccess.joinUsDetail",defaultMessage:"Publish your IoT package into a community of IoT Developers and Organizations!"},publishIotPackageLinkText:{id:"app.components.ExportSystemSuccess.publishIotPackageLinkText",defaultMessage:"Publish IoT Package"},orBrowse:{id:"app.components.ExportSystemSuccess.orBrowse",defaultMessage:"Or just browse!"},browsePackages:{id:"app.components.ExportSystemSuccess.browsePackages",defaultMessage:"Browse IoT Packages"}}),xt=Q.b.div.withConfig({displayName:"ExportSystemSuccess__IconContainer"})(["font-size: 8rem;"]),St=function(e){return q.a.createElement(ce.b,Object.assign({},e))},vt=Q.b.div.withConfig({displayName:"ExportSystemSuccess__InfoSection"})(["margin-bottom: 3rem;"]),Tt=function(e,t,n){return q.a.createElement(vt,null,Pt(e),n&&wt(n),Ct(t))},Ct=function(e){return q.a.createElement("a",{target:"_blank",href:e.href},e.message&&St(e.message),e.text&&e.text)},wt=function(e){return q.a.createElement("h4",{className:"text-muted lead"},St(e))},Pt=function(e){return q.a.createElement("h1",{className:"display-4"},St(e))},kt=function(){return Pt(jt.success)},Mt=function(e){switch(e.type){case Le.FILE_SYSTEM:return q.a.createElement(q.a.Fragment,null,q.a.createElement(kt,null),q.a.createElement("a",{href:"/console-api/batch/export/files?fullFileName="+e.data.zipAddress},q.a.createElement(xt,null,q.a.createElement(Se.j,null)),q.a.createElement(ce.b,Object.assign({},jt.clickHereToDownload))));case Le.GITHUB:var t=e.data.repoURL;return q.a.createElement(q.a.Fragment,null,Tt(jt.success,{href:t,text:t},jt.findPackageHere),Tt(jt.joinUs,{href:$e.g,message:jt.publishIotPackageLinkText},jt.joinUsDetail),Tt(jt.orBrowse,{href:$e.b,message:jt.browsePackages}))}},Nt=function(e){return q.a.createElement(q.a.Fragment,null,q.a.createElement(oe.K,null,q.a.createElement("div",{className:"text-center"},Mt(e))),q.a.createElement(oe.L,null,q.a.createElement(oe.e,{onClick:e.onClose},q.a.createElement(ce.b,Object.assign({},ht.a.close)))))},Rt=Nt,It=n("./app/cb-utils/services/github.ts"),At=n("./app/components/CbInputField/index.tsx"),Ft=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Ht=function(e){function t(){f(this,t);var e=b(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onChange=function(t,n){var a=e.props.selectedTypes,r=e.props.selectedTypes.indexOf(t);a=n?[].concat(m(a),[t]):[].concat(m(a.slice(0,r)),m(a.slice(r+1))),e.props.onChange(a)},e.createCheckbox=function(t){return q.a.createElement(At.b,{type:gt.a.BOOLEAN_TYPE,name:t,display_name:t,value:e.props.selectedTypes.indexOf(t)>-1,labelText:t,onChange:function(n){return e.onChange(t,n.target.value)}})},e}return y(t,e),Ft(t,[{key:"render",value:function(){return q.a.createElement("div",null,this.createCheckbox($e.f.CODE_SERVICES),this.createCheckbox($e.f.CODE_LIBRARIES),this.createCheckbox($e.f.PORTALS),this.createCheckbox($e.f.COLLECTIONS),this.createCheckbox($e.f.TRIGGERS),this.createCheckbox($e.f.TIMERS),this.createCheckbox($e.f.ADAPTERS),this.createCheckbox($e.f.ROLES),this.createCheckbox($e.f.PLUGINS),this.createCheckbox($e.f.USERS),this.createCheckbox($e.f.EDGES),this.createCheckbox($e.f.DEVICES))}}]),t}(q.a.Component),Ut=Ht,Lt=Object(ce.e)({export:{id:"app.containers.ExportSystemButton.export",defaultMessage:"Export"},gatheringFiles:{id:"app.containers.ExportSystemButton.export",defaultMessage:"Gathering files..."},stillWorking:{id:"app.containers.ExportSystemButton.export",defaultMessage:"Still working..."},stillLoadingNote:{id:"app.containers.ExportSystemButton.export",defaultMessage:"Still Loading. Note: large systems may take a while."},loading:{id:"app.containers.ExportSystemButton.export",defaultMessage:"Still loading..."},hangInThere:{id:"app.containers.ExportSystemButton.export",defaultMessage:"Hang in there..."}}),Gt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Dt=function(e){function t(){h(this,t);var e=g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={currentMessage:0},e.switchMessage=function(){e.setState({currentMessage:e.state.currentMessage+1===e.props.messages.length?0:e.state.currentMessage+1})},e}return E(t,e),Gt(t,[{key:"componentDidMount",value:function(){this.intervalHandler=setInterval(this.switchMessage,this.props.messageTime)}},{key:"render",value:function(){return this.props.messages[this.state.currentMessage]}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalHandler)}}]),t}(q.a.Component);Dt.defaultProps={messageTime:4e3};var Bt,Yt=Dt,Wt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Xt=function(e){function t(){return _(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return x(t,e),Wt(t,[{key:"render",value:function(){var e=this.props,t=e.packageStructure.hasFetched,n=O(e,["packageStructure"]);return q.a.createElement(Ot.a,Object.assign({},n,{disabled:n.disabled||!t,isLoading:n.isLoading||!t}),t?q.a.createElement(ce.b,Object.assign({},Lt.export)):q.a.createElement(Yt,{messages:[q.a.createElement(ce.b,Object.assign({},Lt.gatheringFiles)),q.a.createElement(ce.b,Object.assign({},Lt.stillWorking)),q.a.createElement(ce.b,Object.assign({},Lt.stillLoadingNote)),q.a.createElement(ce.b,Object.assign({},Lt.loading)),q.a.createElement(ce.b,Object.assign({},Lt.hangInThere))]}))}}]),t}(q.a.PureComponent),Kt=function(e,t){return Object(be.b)({packageStructure:Object(Ze.e)(t.systemName)})},zt=Object(Z.b)(Kt,null)(Xt),Vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Jt=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),qt=function(){return q.a.createElement(ce.b,Object.assign({},ot.advancedTags))},Qt=function(){return q.a.createElement(ce.b,Object.assign({},ot.assetTypes))};!function(e){e.ABOUT="about",e.ADVANCED="advanced"}(Bt||(Bt={}));var Zt=function(e){return e.map(function(e){return{label:e}})},$t=function(e){function t(){C(this,t);var e=w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={currentTab:Bt.ABOUT,info:{name:e.props.systemInfo?e.props.systemInfo.name:"",description:e.props.systemInfo?e.props.systemInfo.description:"",asset_types:[],version:"1.0.0",keywords:["clearblade","iot","platform"],prog_lang:[],clouds:[],things:[],domains:[],protocols:[],gateways:[],author:{email:e.props.currentUser.email},license:"MIT",image_url:"https://docs.clearblade.com/v/3/static/img/default_package.png",private:!1}},e.handleTagRemoval=function(t,n){e.setState({info:Vt({},e.state.info,T({},t,e.state.info[t].filter(function(e){return e!==n})))})},e.handleTagAddition=function(t,n){e.setState({info:Vt({},e.state.info,T({},t,[].concat(v(e.state.info[t]),[n])))})},e.toggleTab=function(t){e.setState({currentTab:t})},e}return P(t,e),Jt(t,[{key:"componentWillMount",value:function(){this.props.match.params.type===Le.GITHUB&&(localStorage[at.a]?Object(It.d)(localStorage[at.a]).catch(this.props.navBackToBeginningOfExport):Object($e.v)()?this.props.getClientIdAndAccessToken(Object($e.q)()):this.props.navBackToBeginningOfExport())}},{key:"render",value:function(){var e=this,t=this.props.intl.formatMessage;return this.props.ExportSystemForm.success?q.a.createElement(Rt,{type:this.props.match.params.type,data:this.props.ExportSystemForm.successResponse,onClose:this.props.onCancel}):q.a.createElement(Pe.Formik,{validationSchema:Me.a.object().shape({name:Me.a.string().required(t(ht.a.errorNameRequired)).matches(/^[^\s]+$/,t(ht.a.errorSpaces)).matches(/^[\w-]+$/,t(ht.a.errorSpecialCharacters))}),initialValues:this.state.info,onSubmit:function(t){e.props.onExport(Vt({},t,{asset_types:e.props.ExportSystemForm.assetTypes}))},render:function(n){var a=(n.values,n.touched),r=n.errors,o=(n.dirty,n.submitForm);return q.a.createElement(q.a.Fragment,null,q.a.createElement(Pe.Form,{onSubmit:o},q.a.createElement(oe.K,null,q.a.createElement(yt.a,{currentTab:e.state.currentTab,selectNewTab:e.toggleTab,tabs:[{id:Bt.ABOUT,title:q.a.createElement(ce.b,Object.assign({},ht.a.about)),component:q.a.createElement(q.a.Fragment,null,q.a.createElement(Pe.Field,{name:"name",label:q.a.createElement(ce.b,Object.assign({},ht.a.name)),simpleHelp:ot.helpName,type:gt.a.TEXT_TYPE,component:Ne.b,placeholder:t(ht.a.name)}),q.a.createElement(Pe.Field,{name:"description",label:q.a.createElement(ce.b,Object.assign({},ht.a.description)),simpleHelp:ot.helpDescription,type:gt.a.TEXT_AREA_TYPE,component:Ne.b,placeholder:t(ht.a.description)}),q.a.createElement(Pe.Field,{name:"image_url",label:q.a.createElement(ce.b,Object.assign({},ot.imageUrl)),simpleHelp:ot.helpImage,type:gt.a.IMAGE_URL_INPUT,component:Ne.b,isFakeEvent:!0}),q.a.createElement(Pe.Field,{name:"version",label:q.a.createElement(ce.b,Object.assign({},ot.version)),type:gt.a.TEXT_TYPE,component:Ne.b}),q.a.createElement(Pe.Field,{name:"license",label:q.a.createElement(ce.b,Object.assign({},ot.license)),simpleHelp:ot.helpLicense,type:gt.a.TEXT_TYPE,component:Ne.b}),q.a.createElement(Pe.FieldArray,{name:"keywords",render:function(e){var t=S(e,[]);return q.a.createElement(Ne.a,Object.assign({},t,{name:"keywords",type:gt.a.TAG_INPUT,label:q.a.createElement(ce.b,Object.assign({},ot.keywords)),simpleHelp:ot.helpKeywords,formatValue:Zt}))}}),q.a.createElement(Et.a,{showText:q.a.createElement(qt,null),hideText:q.a.createElement(qt,null)},q.a.createElement(Pe.FieldArray,{name:"protocols",render:function(e){var t=S(e,[]);return q.a.createElement(Ne.a,Object.assign({},t,{name:"protocols",type:gt.a.TAG_INPUT,label:q.a.createElement(ce.b,Object.assign({},ot.protocols)),formatValue:Zt}))}}),q.a.createElement(Pe.FieldArray,{name:"things",render:function(e){var t=S(e,[]);return q.a.createElement(Ne.a,Object.assign({},t,{name:"things",type:gt.a.TAG_INPUT,label:q.a.createElement(ce.b,Object.assign({},ot.things)),formatValue:Zt}))}}),q.a.createElement(Pe.FieldArray,{name:"domains",render:function(e){var t=S(e,[]);return q.a.createElement(Ne.a,Object.assign({name:"domains"},t,{type:gt.a.TAG_INPUT,label:q.a.createElement(ce.b,Object.assign({},ot.domains)),formatValue:Zt}))}}),q.a.createElement(Pe.FieldArray,{name:"gateways",render:function(e){var t=S(e,[]);return q.a.createElement(Ne.a,Object.assign({},t,{name:"gateways",type:gt.a.TAG_INPUT,label:q.a.createElement(ce.b,Object.assign({},ot.gateways)),formatValue:Zt}))}}),q.a.createElement(Pe.FieldArray,{name:"prog_lang",render:function(e){var t=S(e,[]);return q.a.createElement(Ne.a,Object.assign({},t,{name:"prog_lang",type:gt.a.TAG_INPUT,label:q.a.createElement(ce.b,Object.assign({},ot.prog_lang)),formatValue:Zt}))}}),q.a.createElement(Pe.FieldArray,{name:"clouds",render:function(e){var t=S(e,[]);return q.a.createElement(Ne.a,Object.assign({},t,{name:"clouds",type:gt.a.TAG_INPUT,label:q.a.createElement(ce.b,Object.assign({},ot.clouds)),formatValue:Zt}))}})),q.a.createElement(Et.a,{showText:q.a.createElement(Qt,null),hideText:q.a.createElement(Qt,null)},q.a.createElement(Ut,{selectedTypes:e.props.ExportSystemForm.assetTypes,onChange:e.props.onAssetTypeChange})))},{id:Bt.ADVANCED,title:q.a.createElement(ce.b,Object.assign({},ht.a.advanced)),component:q.a.createElement(ft.default,{id:e.props.systemInfo.name,fetchAction:bt.v})}]})),q.a.createElement(oe.L,null,q.a.createElement(oe.e,{onClick:e.props.onCancel},q.a.createElement(ce.b,Object.assign({},ht.a.cancel))),q.a.createElement(zt,{"data-cy":"export-system-submit-button",disabled:Object(Ot.b)({errors:r,touched:a}),isLoading:e.props.ExportSystemForm.isExporting,onClick:o,color:"primary",systemName:e.props.systemInfo.name}))))}})}},{key:"componentWillUnmount",value:function(){this.props.cleanUp()}}]),t}(q.a.Component),en=Object(be.b)({ExportSystemForm:Fe(),systemInfo:ae.systemSelectors.currentSystem(),currentUser:Object(_t.a)()}),tn=Object(Z.b)(en,k),nn=Object(Re.a)({key:"ExportSystemForm",reducer:Ye}),an=Object(we.a)({key:"ExportSystemForm",saga:d}),rn=Object(ne.d)(nn,an,tn)(Object(ce.f)($t)),on=n("./app/appHistory.ts"),sn=n("./app/components/CbBreadcrumbContainer/index.tsx"),cn=Object(ce.e)({title:{id:"app.components.ExportToGitHubOption.title",defaultMessage:"GitHub Repository"},info:{id:"app.components.ExportToGitHubOption.info",defaultMessage:"Export your system into a new repo in GitHub"}}),ln=n("./app/img/github-logo.png"),un=n.n(ln),pn=function(e){return q.a.createElement(le.a,{className:"c-pointer"},q.a.createElement(oe.k,{id:"hello",src:e.img}),q.a.createElement(oe.h,null,q.a.createElement(oe.n,null,q.a.createElement(ce.b,Object.assign({},e.title))),q.a.createElement(oe.m,null,q.a.createElement(ce.b,Object.assign({},e.info)))))};pn.defaultProps={isLoading:!1};var dn=pn,mn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),fn=function(e){function t(){return M(this,t),N(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return R(t,e),mn(t,[{key:"render",value:function(){return q.a.createElement(dn,{isLoading:!0,title:cn.title,info:cn.info,img:un.a})}}]),t}(q.a.Component),bn=fn,yn=n("./app/img/file-system-logo.png"),hn=n.n(yn),gn=Object(ce.e)({title:{id:"app.components.ExportToFsoption.title",defaultMessage:"Download Zip"},info:{id:"app.components.ExportToFsoption.info",defaultMessage:"Download your IoT System as a zip file"}}),En=function(e){return q.a.createElement(dn,{title:gn.title,info:gn.info,img:hn.a})},On=En,_n=n("./app/components/LoadingIndicator/index.tsx"),jn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},xn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Sn=Object(Q.b)(oe.U).withConfig({displayName:"ExportSystemModalBody__RowWrapper"})(["width: 80%;"]),vn=function(e){function t(){I(this,t);var e=A(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={hasValidGitHubToken:!1,gitHubClientId:""},e.fetchGitHubClientId=function(){Object(It.c)().then(function(t){e.setState(jn({},e.state,{gitHubClientId:t.client_id}))})},e.renderGitHubOption=function(){var t=q.a.createElement(bn,null),n=e.props.match.url+"/"+Le.GITHUB;return e.state.hasValidGitHubToken?q.a.createElement(te.Link,{to:n},t):e.state.gitHubClientId?q.a.createElement("a",{href:Object(at.c)(e.state.gitHubClientId,""+location.origin+n)},t):q.a.createElement(_n.a,null)},e}return F(t,e),xn(t,[{key:"componentWillMount",value:function(){var e=this;localStorage[at.a]?Object(It.d)(localStorage[at.a]).then(function(){e.setState(jn({},e.state,{hasValidGitHubToken:!0}))}).catch(this.fetchGitHubClientId):this.fetchGitHubClientId()}},{key:"render",value:function(){return q.a.createElement(oe.K,null,q.a.createElement("p",{className:"lead"},q.a.createElement(ce.b,Object.assign({},Ce.selectDestination))),q.a.createElement("div",{className:"d-flex justify-content-center"},q.a.createElement(Sn,null,q.a.createElement(oe.o,{"data-cy":"github-oauth-container"},this.renderGitHubOption()),q.a.createElement(oe.o,{"data-cy":"export-filesystem-container"},q.a.createElement(te.Link,{to:this.props.match.url+"/"+Le.FILE_SYSTEM},q.a.createElement(On,null))))))}}]),t}(q.a.Component),Tn=n("./app/cb-utils/getParentRoute.ts"),Cn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),wn=function(e){function t(){H(this,t);var e=U(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.toggle=function(){e.props.onCloseModal()},e.getExportType=function(){var e=void 0,t=Object(te.matchPath)(on.a.location.pathname,{path:ve.h.EXPORT_SYSTEM_MODAL_DESTINATION_TYPE});return t&&t.params.type&&(e=t.params.type),e},e.renderBaseCrumb=function(){var t=e.props.location.pathname===e.props.match.url,n=q.a.createElement(ce.b,Object.assign({},Ce.header));return q.a.createElement(oe.d,null,t?n:q.a.createElement(te.Link,{to:e.props.match.url}," ",n," "))},e.renderChildCrumbs=function(){var t=e.getExportType();if(t){var n=void 0;switch(t){case Le.FILE_SYSTEM:n=Ce.fileSystem;break;case Le.GITHUB:n=Ce.github}return q.a.createElement(oe.d,null,q.a.createElement(ce.b,Object.assign({},n)))}return null},e}return L(t,e),Cn(t,[{key:"render",value:function(){var e=this;return q.a.createElement(oe.J,{isOpen:!0,size:"lg",toggle:this.toggle},q.a.createElement(oe.M,{toggle:this.toggle},q.a.createElement(sn.a,null,q.a.createElement(oe.c,null,this.renderBaseCrumb(),this.renderChildCrumbs()))),q.a.createElement(te.Route,{path:ve.h.EXPORT_SYSTEM_MODAL_DESTINATION_TYPE,render:function(t){return q.a.createElement(rn,Object.assign({},t,{onCancel:e.toggle}))}}),!this.getExportType()&&q.a.createElement(vn,Object.assign({},this.props)))}}]),t}(q.a.PureComponent),Pn=Object(Z.b)(null,G),kn=Object(ne.d)(Pn)(wn),Mn=Object(Q.b)(oe.o).withConfig({displayName:"CardColumn__ColWrapper"})(["a:hover {text-decoration: none; /* need to override the default decoration that's set by anchor tags */}"]),Nn=function(e){return q.a.createElement(Mn,{sm:"6",md:"4",lg:"3",xl:"2"},e.children)},Rn=Nn,In=function(e){return Object(et.e)("/api/v/2/analytics/eventtotals?query="+encodeURIComponent(JSON.stringify(e)),{method:et.a.GET})},An=Object(ce.e)({messagesInLastHour:{id:"app.containers.SystemDetail.messagesInLastHour",defaultMessage:"{number} pub(s) in last hr"},export:{id:"app.containers.SystemDetail.export",defaultMessage:"Export System"}}),Fn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Hn=function(e){function t(){D(this,t);var e=B(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={isLoading:!0,count:null},e}return Y(t,e),Fn(t,[{key:"componentDidMount",value:function(){var e=this,t=Math.round(Date.now()/1e3-3600);In({scope:{system:this.props.systemKey},filter:{module:"messaging",action:"publish",interval:3600,range:{start:t}}}).then(function(t){e.setState({count:t.values[0]&&t.values[0].count})}).finally(function(){return e.setState({isLoading:!1})})}},{key:"render",value:function(){return q.a.createElement(fe,{icon:je.s,msg:ht.a.assetClassMessages,isFetching:this.state.isLoading,text:this.state.count&&this.props.intl.formatMessage(An.messagesInLastHour,{number:this.state.count})})}}]),t}(q.a.Component),Un=Object(ce.f)(Hn),Ln=n("./app/cb-utils/platformInfo.ts");n.d(t,"SystemDetail",function(){return Bn});var Gn=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),Dn=Object(Q.b)(je.x).withConfig({displayName:"SystemDetail__SettingsWrapper"})(["margin-left: 0.5rem;"]),Bn=function(e){function t(){W(this,t);var e=X(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.getName=function(){return e.props.system?e.props.system.name:""},e.getEdgeName=function(){return e.props.match.params.edgeName&&e.props.match.params.edgeName.substring(1)},e.createColumn=function(t){var n=ie.a[t],a=e.props.match.params.systemKey,r=e.getEdgeName(),o=q.a.createElement(_e,{edge:r,assetClass:t,systemKey:e.props.match.params.systemKey});return q.a.createElement(Rn,null,n.link&&q.a.createElement(te.Link,{to:Object(Te.a)(n.link,{systemKey:a,edgeName:r})},o))},e.renderSubHeader=function(){if(e.props.system){var t=e.props.match.params.edgeName,n=t&&t.substring(1),a=e.props.system.name;return q.a.createElement(q.a.Fragment,null,q.a.createElement(se.a,{header:q.a.createElement("div",null,n||a,!n&&q.a.createElement(Dn,{onClick:e.props.openSettings,className:"c-pointer","data-cy":"system-settings-button"})),subHeader:q.a.createElement("div",null,n?a:""),actionButton:function(){return q.a.createElement(te.Link,{to:e.props.match.url+"/export"},q.a.createElement(oe.e,{color:"primary"},q.a.createElement(Se.m,null),"Â ",q.a.createElement(ce.b,Object.assign({},An.export))))}}))}return null},e}return K(t,e),Gn(t,[{key:"render",value:function(){var e=this.props.match.params,t=e.edgeName,n=e.systemKey,a=t||Object(Ln.b)().isEdge;return q.a.createElement(re.a,{subheader:this.renderSubHeader()},q.a.createElement(ee.a,{title:this.getName(),meta:[{name:"",content:""}]}),q.a.createElement(te.Route,{path:ve.h.EXPORT_SYSTEM_MODAL_CHOOSE_DESTINATION_TYPE,component:kn}),q.a.createElement(oe.q,null,q.a.createElement(oe.U,null,this.createColumn("services"),this.createColumn("libraries"),this.createColumn("collections"),!a&&this.createColumn("adaptors"),this.createColumn("portals"),this.createColumn("plugins"),!a&&this.createColumn("deployments"),this.createColumn("roles"),this.createColumn("users"),this.createColumn("devices"),!a&&this.createColumn("edges"),q.a.createElement(Rn,null,q.a.createElement(te.Link,{to:Te.d.messages({systemKey:n,edgeName:this.getEdgeName()})},q.a.createElement(Un,{systemKey:n}))))))}}]),t}(q.a.PureComponent),Yn=Object(be.b)({system:ae.systemSelectors.currentSystem()}),Wn=Object(Z.b)(Yn,z);t.default=Object(ne.d)(Wn,ce.f)(Bn)},"./app/img/file-system-logo.png":function(e,t,n){e.exports=n.p+"ae68f2a610dc49eeb2938a195b3c981d.png"},"./app/img/github-logo.png":function(e,t,n){e.exports=n.p+"6cc97bb2ba6be59d501ec9ab827dea43.png"},"./node_modules/material-ui-next/Card/Card.js":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.raised,n=(0,c.default)(e,["raised"]);return u.default.createElement(m.default,(0,s.default)({elevation:t?8:2},n))}Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/babel-runtime/helpers/extends.js"),s=a(o),i=n("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),c=a(i),l=n("./node_modules/react/index.js"),u=a(l),p=n("./node_modules/prop-types/index.js"),d=(a(p),n("./node_modules/material-ui-next/Paper/index.js")),m=a(d);r.propTypes={},r.defaultProps={raised:!1},t.default=r},"./node_modules/material-ui-next/Card/CardActions.js":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.disableActionSpacing,n=e.children,a=e.classes,r=e.className,o=(0,c.default)(e,["disableActionSpacing","children","classes","className"]);return u.default.createElement("div",(0,s.default)({className:(0,m.default)(a.root,r)},o),t?n:(0,y.cloneChildrenWithClassName)(n,a.action))}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n("./node_modules/babel-runtime/helpers/extends.js"),s=a(o),i=n("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),c=a(i),l=n("./node_modules/react/index.js"),u=a(l),p=n("./node_modules/prop-types/index.js"),d=(a(p),n("./node_modules/classnames/index.js")),m=a(d),f=n("./node_modules/material-ui-next/styles/withStyles.js"),b=a(f),y=n("./node_modules/material-ui-next/utils/reactHelpers.js"),h=t.styles={root:{height:52,display:"flex",alignItems:"center",padding:"2px 4px"},action:{margin:"0 4px"}};r.propTypes={},r.defaultProps={disableActionSpacing:!1},t.default=(0,b.default)(h,{name:"MuiCardActions"})(r)},"./node_modules/material-ui-next/Card/CardContent.js":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.classes,n=e.className,a=(0,c.default)(e,["classes","className"]);return u.default.createElement("div",(0,s.default)({className:(0,m.default)(t.root,n)},a))}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n("./node_modules/babel-runtime/helpers/extends.js"),s=a(o),i=n("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),c=a(i),l=n("./node_modules/react/index.js"),u=a(l),p=n("./node_modules/prop-types/index.js"),d=(a(p),n("./node_modules/classnames/index.js")),m=a(d),f=n("./node_modules/material-ui-next/styles/withStyles.js"),b=a(f),y=t.styles=function(e){return{root:{padding:2*e.spacing.unit,"&:last-child":{paddingBottom:3*e.spacing.unit}}}};r.propTypes={},t.default=(0,b.default)(y,{name:"MuiCardContent"})(r)},"./node_modules/material-ui-next/Card/CardHeader.js":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t=e.avatar,n=e.action,a=e.classes,r=e.className,o=e.subheader,i=e.title,l=(0,c.default)(e,["avatar","action","classes","className","subheader","title"]);return u.default.createElement(E.default,(0,s.default)({className:(0,m.default)(a.root,r)},l),t&&u.default.createElement("div",{className:a.avatar},t),u.default.createElement("div",{className:a.content},u.default.createElement(h.default,{type:t?"body2":"headline",component:"span",className:a.title},i),o&&u.default.createElement(h.default,{type:t?"body2":"body1",component:"span",color:"secondary",className:a.subheader},o)),n&&u.default.createElement("div",{className:a.action},n))}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n("./node_modules/babel-runtime/helpers/extends.js"),s=a(o),i=n("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),c=a(i),l=n("./node_modules/react/index.js"),u=a(l),p=n("./node_modules/prop-types/index.js"),d=(a(p),n("./node_modules/classnames/index.js")),m=a(d),f=n("./node_modules/material-ui-next/styles/withStyles.js"),b=a(f),y=n("./node_modules/material-ui-next/Typography/index.js"),h=a(y),g=n("./node_modules/material-ui-next/Card/CardContent.js"),E=a(g),O=t.styles=function(e){return{root:{display:"flex",alignItems:"center"},avatar:{flex:"0 0 auto",marginRight:2*e.spacing.unit},action:{flex:"0 0 auto",alignSelf:"flex-start",marginTop:-1*e.spacing.unit,marginRight:-2*e.spacing.unit},content:{flex:"1 1 auto"},title:{},subheader:{}}};r.propTypes={},t.default=(0,b.default)(O,{name:"MuiCardHeader"})(r)},"./node_modules/material-ui-next/Card/CardMedia.js":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){var t,n=e.classes,a=e.className,r=e.component,o=e.image,i=e.src,l=e.style,p=(0,u.default)(e,["classes","className","component","image","src","style"]),m=-1!==O.indexOf(r),f=!m&&o?(0,c.default)({backgroundImage:"url("+o+")"},l):l,y=(0,b.default)((t={},(0,s.default)(t,n.root,!m),(0,s.default)(t,n.rootMedia,m),t),a);return d.default.createElement(r,(0,c.default)({className:y,style:f,src:m?o||i:void 0},p))}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=void 0;var o=n("./node_modules/babel-runtime/helpers/defineProperty.js"),s=a(o),i=n("./node_modules/babel-runtime/helpers/extends.js"),c=a(i),l=n("./node_modules/babel-runtime/helpers/objectWithoutProperties.js"),u=a(l),p=n("./node_modules/react/index.js"),d=a(p),m=n("./node_modules/prop-types/index.js"),f=(a(m),n("./node_modules/classnames/index.js")),b=a(f),y=n("./node_modules/warning/browser.js"),h=(a(y),n("./node_modules/material-ui-next/styles/withStyles.js")),g=a(h),E=t.styles={root:{backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},rootMedia:{width:"100%"}},O=["video","audio","picture","iframe","img"];r.propTypes={},r.defaultProps={component:"div"},t.default=(0,g.default)(E,{name:"MuiCardMedia"})(r)},"./node_modules/material-ui-next/Card/index.js":function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/material-ui-next/Card/Card.js");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a(r).default}});var o=n("./node_modules/material-ui-next/Card/CardContent.js");Object.defineProperty(t,"CardContent",{enumerable:!0,get:function(){return a(o).default}});var s=n("./node_modules/material-ui-next/Card/CardActions.js");Object.defineProperty(t,"CardActions",{enumerable:!0,get:function(){return a(s).default}});var i=n("./node_modules/material-ui-next/Card/CardMedia.js");Object.defineProperty(t,"CardMedia",{enumerable:!0,get:function(){return a(i).default}});var c=n("./node_modules/material-ui-next/Card/CardHeader.js");Object.defineProperty(t,"CardHeader",{enumerable:!0,get:function(){return a(c).default}})}});
//# sourceMappingURL=25.e3758b98db0eab5084f2.chunk.js.map