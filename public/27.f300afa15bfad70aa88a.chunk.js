webpackJsonp([27],{"./app/cb-utils/createCheckBoxCell.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/react-intl/lib/index.es.js"),s=function(e,t,n){return o.a.createElement("div",{className:"text-center c-pointer",onClick:function(){return e(!t)}},o.a.createElement("input",{className:"c-pointer",type:"checkbox",checked:t}),n&&o.a.createElement(a.b,Object.assign({},n)))}},"./app/components/ConsolePage/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),s=n("./app/components/ZeroState/index.tsx"),c=n("./app/components/LoadingIndicator/index.tsx"),i=a.b.div.withConfig({displayName:"ConsolePage__ContentWrapper"})(["padding: 0 2rem;"]),l=Object(a.b)("div").withConfig({displayName:"ConsolePage__BodyWrapper"})(["padding: 0 2rem;flex-grow: 1;height: 100%;overflow-y: ",";display: flex;padding-top: 0.1rem; /* add a tiny bit of padding so things in the body don't get cut off */"],function(e){return e.allowScroll?"auto":""}),u=function(e){return e.isFetchingAssets?o.a.createElement(c.a,{forPage:!0}):e.zeroState.show?o.a.createElement(l,{allowScroll:e.allowScroll},o.a.createElement(s.a,Object.assign({},e.zeroState))):o.a.createElement(o.a.Fragment,null,e.subheader&&o.a.createElement(i,null," ",e.subheader," "),o.a.createElement(l,{allowScroll:e.allowScroll},e.children))};u.defaultProps={isFetchingAssets:!1,allowScroll:!0,zeroState:{show:!1,title:null,info:null,addButton:null,icon:null}},t.a=u},"./app/components/ConsolePageFooter/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),s=a.b.div.withConfig({displayName:"ConsolePageFooter__MyFoot"})(["min-height: 3.5rem;display: flex;align-items: center;padding: 0.5rem 1rem;z-index: 1;background: white;"]),c=a.b.div.withConfig({displayName:"ConsolePageFooter__ActionButtonContainer"})(["margin-left: auto;"]),i=function(e){return o.a.createElement(s,null,e.leftButtons&&o.a.createElement(e.leftButtons,null),e.actionButtons&&o.a.createElement(c,null,o.a.createElement(e.actionButtons,null)))};t.a=i},"./app/components/ConsolePageHeader/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),s=a.b.div.withConfig({displayName:"ConsolePageHeader__Wrapper"})(["display: flex;align-items: center;margin-bottom: 2rem;flex-wrap: wrap;"]),c=a.b.div.withConfig({displayName:"ConsolePageHeader__SubHeaderWrapper"})(["flex-basis: 100%;"]),i=function(e){return o.a.createElement(s,null,o.a.createElement("h2",null,e.header&&e.header),o.a.createElement("div",{className:"ml-auto"},e.actionButton&&o.a.createElement(e.actionButton,null)),e.subHeader&&o.a.createElement(c,null," ",e.subHeader))};t.a=i},"./app/components/DeployHelmet/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/react-helmet/lib/Helmet.js"),s=n.n(a),c=function(e){return o.a.createElement(s.a,{title:"ClearBlade - Deploy",meta:[{name:"description",content:"Description of Deploy"}]})};t.a=c},"./app/components/DeploymentEdgeGrid/index.tsx":function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var c=n("./node_modules/react/index.js"),i=n.n(c),l=n("./app/containers/Console/state.ts"),u=n("./app/containers/ConsoleCrudgridContainer/Loadable.ts"),p=n("./app/cb-utils/getPathParams.ts"),d=n("./app/cb-utils/createCheckBoxCell.tsx"),f=n("./node_modules/lodash/lodash.js"),m=(n.n(f),n("./app/cb-utils/console-entity-models/index.ts")),y=n("./app/containers/Console/ducks/index.ts"),E=n("./node_modules/react-redux/es/index.js"),_=n("./node_modules/reselect/es/index.js"),b=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._transformEdgeColumns=function(t){return[{Header:function(){return i.a.createElement("div",{"data-cy":"toggle-deploy-all"},Object(d.a)(e._toggleSelectAllEdges,e._hasSelectedAllEdges()))},filterable:!1,resizable:!1,sortable:!1,width:80,Cell:function(t){return i.a.createElement("div",null,Object(d.a)(function(n){return e._toggleEdge(n,t.row.name)},e._isEdgeSelected(t.row.name)))}}].concat(r(t))},e._isEdgeSelected=function(t){return e.props.selectedEdges.indexOf(t)>-1},e._toggleEdge=function(t,n){var r=e.props.selectedEdges;r=Object(m.shouldDeployToAllEdges)(r)?[]:r;var o=void 0;o=t?[n].concat(r):r.filter(function(e){return e!==n}),e.props.onToggleEdges(o)},e._toggleSelectAllEdges=function(t){var n=e.props.selectedEdges;n=Object(m.shouldDeployToAllEdges)(n)?[]:n;var r=void 0;r=t?e.props.rows.filter(function(e){return-1===n.indexOf(e.name)}).map(function(e){return e.name}).concat(n):n.filter(function(t){return-1===Object(f.findIndex)(e.props.rows,{name:t})}),e.props.onToggleEdges(r)},e._hasSelectedAllEdges=function(){var t=!0,n=!1,r=void 0;try{for(var o,a=e.props.rows[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;if(-1===e.props.selectedEdges.indexOf(s.name))return!1}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}return!0},e}return s(t,e),b(t,[{key:"render",value:function(){var e=this.props,t=e.columnNames,n=e.allowFilter;return i.a.createElement(u.a,{assetClass:l.a.edges,systemKey:Object(p.c)(),columnNames:t,allowFilter:n,transformColumns:this._transformEdgeColumns})}}]),t}(i.a.PureComponent),h=Object(_.b)({rows:y.edgeSelectors.rows()}),C=Object(E.b)(h);t.a=C(g)},"./app/components/ZeroState/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/react-intl/lib/index.es.js"),s=n("./node_modules/reactstrap/dist/reactstrap.es.js"),c=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),i=Object(c.b)(s.C).withConfig({displayName:"ZeroState__JumboWrapper"})(["width: 100%;display: inline-table; /* note: this allows the jumbotron to only take up the space it needs, rather than the entire page */"]),l=function(e){return o.a.createElement(i,{className:e.className},o.a.createElement("h1",{className:"display-3"},e.icon,"Â ",o.a.createElement(a.b,Object.assign({},e.title))),o.a.createElement("p",{className:"lead"},o.a.createElement(a.b,Object.assign({},e.info))),o.a.createElement("hr",{className:"my-2"}),e.moreInfo&&o.a.createElement("p",null,e.moreInfo),o.a.createElement("p",{className:"lead"},e.addButton))};t.a=l},"./app/containers/Console/actions/deployment.ts":function(e,t,n){"use strict";n.d(t,"e",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"c",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"b",function(){return i});var r=n("./app/containers/Console/actions/deploymentConstants.ts"),o=function(e){return{type:r.a.SET_MODIFIABLE_DEPLOYMENT,payload:{config:e}}},a=function(e){return{type:r.a.CLEAR_MODIFIABLE_DEPLOYMENT,payload:{name:e}}},s=function(e,t){return{type:r.a.FETCH_SINGLE_DEPLOYMENT_REQUEST,payload:{systemKey:e,name:t}}},c=function(e){return{type:r.a.FETCH_SINGLE_DEPLOYMENT_SUCCESS,payload:{config:e}}},i=function(e){return{type:r.a.FETCH_SINGLE_DEPLOYMENT_ERROR,payload:{error:e}}}},"./app/containers/Console/sagas/deployments.ts":function(e,t,n){"use strict";function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.g)(l.a.FETCH_SINGLE_DEPLOYMENT_SUCCESS,regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.c)(Object(u.e)(t.payload.config));case 2:case"end":return e.stop()}},e,this)}));case 2:case"end":return e.stop()}},y,this)}function o(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.g)(l.a.FETCH_SINGLE_DEPLOYMENT_REQUEST,regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(i.b)(p.c,t.payload.systemKey,t.payload.name);case 3:return n=e.sent,e.next=6,Object(i.c)(Object(u.d)(n));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(i.c)(Object(u.b)(e.t0));case 12:case"end":return e.stop()}},e,this,[[0,8]])}));case 2:case"end":return e.stop()}},E,this)}function a(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.g)(l.a.FETCH_SINGLE_DEPLOYMENT_ERROR,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:case"end":return e.stop()}},e,this)}));case 2:case"end":return e.stop()}},_,this)}function s(e,t){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(i.d)(Object(f.c)(t));case 2:if(n=r.sent){r.next=7;break}return r.next=6,Object(i.c)(Object(u.c)(e,t));case 6:return r.abrupt("return",null);case 7:return r.abrupt("return",n);case 8:case"end":return r.stop()}},b,this)}function c(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.c)(Object(d.g)(m.d));case 2:case"end":return e.stop()}},g,this)}t.e=r,t.c=o,t.b=a,t.a=s,t.d=c;var i=n("./node_modules/redux-saga/es/effects.js"),l=n("./app/containers/Console/actions/deploymentConstants.ts"),u=n("./app/containers/Console/actions/deployment.ts"),p=n("./app/cb-utils/services/deployment.ts"),d=n("./app/containers/Console/actions/ui.ts"),f=n("./app/containers/Console/selectors/deployments.ts"),m=n("./app/containers/Console/routes/deployments.ts"),y=regeneratorRuntime.mark(r),E=regeneratorRuntime.mark(o),_=regeneratorRuntime.mark(a),b=regeneratorRuntime.mark(s),g=regeneratorRuntime.mark(c)},"./app/containers/Console/selectors/deployments.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return l}),n.d(t,"d",function(){return u});var r=n("./node_modules/reselect/es/index.js"),o=n("./app/containers/Console/consoleSelectors.ts"),a=function(){return Object(r.a)(Object(o.e)(),function(e){return e.deployments})},s=function(e){return Object(r.a)(a(),function(t){return t.entities[e]})},c=function(){return Object(r.a)(Object(o.f)(),function(e){return e.deployments})},i=function(e){return Object(r.a)(c(),function(t){return t[e]})},l=function(e){return Object(r.a)(i(e),function(e){return e?e.assets:[]})},u=function(e){return Object(r.a)(i(e),function(e){return e.edges})}},"./app/containers/ConsoleCrudgridContainer/Loadable.ts":function(e,t,n){"use strict";var r=n("./app/components/WithLoadable/index.tsx");t.a=Object(r.a)(function(){return n.e(24).then(n.bind(null,"./app/containers/ConsoleCrudgridContainer/index.tsx"))})},"./app/containers/DeployDetail/actions.ts":function(e,t,n){"use strict";n.d(t,"p",function(){return o}),n.d(t,"q",function(){return a}),n.d(t,"m",function(){return s}),n.d(t,"n",function(){return c}),n.d(t,"o",function(){return i}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"e",function(){return p}),n.d(t,"d",function(){return d}),n.d(t,"f",function(){return f}),n.d(t,"b",function(){return m}),n.d(t,"h",function(){return y}),n.d(t,"i",function(){return E}),n.d(t,"g",function(){return _}),n.d(t,"s",function(){return b}),n.d(t,"t",function(){return g}),n.d(t,"r",function(){return h}),n.d(t,"k",function(){return C}),n.d(t,"l",function(){return O}),n.d(t,"j",function(){return j});var r=n("./app/containers/DeployDetail/actionConstants.ts"),o=function(e,t){return{type:r.a.INIT_ASSET_MANAGER,payload:{systemKey:e,deploymentId:t}}},a=function(e){return{type:r.a.REFRESH_ASSETS,payload:{systemKey:e}}},s=function(e,t){return{type:r.a.DEPLOYMENT_DESCRIPTION_CHANGE,payload:{name:e,value:t}}},c=function(e,t){return{type:r.a.EDGE_TOGGLE,payload:{name:e,newSelected:t}}},i=function(e,t){return{type:r.a.EDGE_TOGGLE_ALL,payload:{name:e,isChecked:t}}},l=function(e,t){return{type:r.a.APPLY_GRID_EDGES,payload:{depName:e,edges:t}}},u=function(e,t,n,o,a){return{type:r.a.ASSET_DEPLOY_TOGGLE,payload:{name:e,allAssets:t,assetClass:n,assetId:o,isChecked:a}}},p=function(e,t,n,o,a){return{type:r.a.ASSET_SYNC_TOGGLE,payload:{name:e,allAssets:t,assetClass:n,assetId:o,isChecked:a}}},d=function(e,t,n){return{type:r.a.ASSET_DEPLOY_TOGGLE_ALL,payload:{name:e,assetClass:t,isChecked:n}}},f=function(e,t,n){return{type:r.a.ASSET_SYNC_TOGGLE_ALL,payload:{name:e,assetClass:t,isChecked:n}}},m=function(e,t,n){return{type:r.a.ASSET_CHANGE,payload:{name:e,assetClass:t,assets:n}}},y=function(e,t){return{type:r.a.CREATE_DEPLOYMENT_REQUEST,payload:{systemKey:e,deployment:t}}},E=function(e){return{type:r.a.CREATE_DEPLOYMENT_SUCCESS,payload:{systemKey:e}}},_=function(e){return{type:r.a.CREATE_DEPLOYMENT_ERROR,payload:{error:e}}},b=function(e,t){return{type:r.a.UPDATE_DEPLOYMENT_REQUEST,payload:{systemKey:e,name:t}}},g=function(e){return{type:r.a.UPDATE_DEPLOYMENT_SUCCESS,payload:{name:e}}},h=function(e){return{type:r.a.UPDATE_DEPLOYMENT_ERROR,payload:{error:e}}},C=function(e,t){return{type:r.a.DELETE_DEPLOYMENT_REQUEST,payload:{systemKey:e,name:t}}},O=function(e,t){return{type:r.a.DELETE_DEPLOYMENT_SUCCESS,payload:{systemKey:e,name:t}}},j=function(e){return{type:r.a.DELETE_DEPLOYMENT_ERROR,payload:{error:e}}}},"./app/containers/DeploymentItemLevelViewWrapper/index.tsx":function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F;switch(arguments[1].type){case w.INIT_ITEM_LEVEL_WRAPPER_SUCCESS:return H()(e,function(e){return e.hasLoaded},function(){return!0});default:return e}}function o(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.c)(W());case 2:case"end":return e.stop()}},q,this)}function a(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.g)(Q.collections.actions.fetchAll.successType,o);case 2:case"end":return e.stop()}},z,this)}function s(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.g)(w.INIT_ITEM_LEVEL_WRAPPER_REQUEST,regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.payload.assetClass,e.next="devices"===e.t0?3:"users"===e.t0?3:6;break;case 3:return e.next=5,o();case 5:return e.abrupt("return");case 6:return e.next=8,Object(V.d)(Object(Y.e)());case 8:if(n=e.sent,n.collections.hasFetched){e.next=14;break}return e.next=12,Object(V.c)(Q.collections.actions.fetchAll.request(t.payload.systemKey));case 12:e.next=16;break;case 14:return e.next=16,o();case 16:case"end":return e.stop()}},e,this)}));case 2:case"end":return e.stop()}},Z,this)}function c(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.a)([s(),a()]);case 2:case"end":return e.stop()}},J,this)}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments[1];switch(t.type){case K.INIT_ITEM_LEVEL_VIEW_REQUEST:return H()(e,function(e){return e.assetClass},function(){return t.payload.assetClass});case K.FETCHED_ASSETS:return H()(e,function(e){return e.selectedItems=t.payload.assets.filter(function(t){return t.asset_class===e.assetClass&&t.asset_id!==he.SpecialDeploymentKeys.ALL_ASSETS_IN_CLASS}),e});case K.ON_ITEM_CHANGE:return H()(e,function(e){return e.selectedItems},function(){return t.payload.assets});case K.ON_EDGE_CHANGE:return H()(e,function(e){return e.selectedEdges},function(){return t.payload.edges});default:return e}}function l(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.g)(K.INIT_ITEM_LEVEL_VIEW_REQUEST,regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Te.a)(t.payload.systemKey,t.payload.deploymentId);case 2:if(n=e.sent,t.payload.assetClass!==ye.a.edges){e.next=9;break}return e.next=6,Object(V.d)(Object(Ie.d)(t.payload.deploymentId));case 6:return r=e.sent,e.next=9,Object(V.c)(Se(r));case 9:if(!n){e.next=12;break}return e.next=12,u(n.assets);case 12:case"end":return e.stop()}},e,this)}));case 2:case"end":return e.stop()}},Ne,this)}function u(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(V.c)(ve(e));case 2:case"end":return t.stop()}},Le,this)}function p(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.g)(je.a.SET_MODIFIABLE_DEPLOYMENT,regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u(t.payload.config.assets);case 2:case"end":return e.stop()}},e,this)}));case 2:case"end":return e.stop()}},Re,this)}function d(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(V.a)([l(),Object(Te.c)(),Object(Te.b)(),Object(Te.e)(),p()]);case 2:case"end":return e.stop()}},Pe,this)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function C(e,t){var n=ze(t),r=t.match.params.deploymentName;return{init:function(){return e(xe(t.match.params.systemKey,r,n))},onChangeItems:function(t){return e(we(t))},updateItemsForAssetClass:function(o){e(Object(Ae.b)(r,n,o)),e(Object($.push)(Ze(t)))},onChangeEdges:function(t){return e(Se(t))},updateEdgesForDeployment:function(n){e(Object(Ae.a)(r,n)),e(Object($.push)(Ze(t)))}}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function v(e,t){return{init:function(){return e(B(t.match.params.systemKey,t.match.params.deploymentName,t.match.params.assetClass))}}}Object.defineProperty(t,"__esModule",{value:!0});var w,S=n("./node_modules/react/index.js"),T=n.n(S),I=n("./node_modules/react-redux/es/index.js"),N=n("./app/utils/injectSaga.tsx"),L=n("./node_modules/redux/es/index.js"),R=n("./app/utils/injectReducer.tsx"),P=n("./node_modules/reselect/es/index.js"),A="DeploymentItemLevelViewWrapper",D=function(){return function(e){return e[A]}},k=function(){return Object(P.a)(D(),function(e){return e})},M=k,G=n("./node_modules/immutable-assign/deploy/iassign.js"),H=n.n(G);!function(e){e.INIT_ITEM_LEVEL_WRAPPER_REQUEST="INIT_ITEM_LEVEL_WRAPPER_REQUEST",e.INIT_ITEM_LEVEL_WRAPPER_SUCCESS="INIT_ITEM_LEVEL_WRAPPER_SUCCESS"}(w||(w={}));var K,F={hasLoaded:!1},U=r,V=n("./node_modules/redux-saga/es/effects.js"),B=function(e,t,n){return{type:w.INIT_ITEM_LEVEL_WRAPPER_REQUEST,payload:{deploymentId:t,systemKey:e,assetClass:n}}},W=function(){return{type:w.INIT_ITEM_LEVEL_WRAPPER_SUCCESS}},Y=n("./app/containers/Console/consoleSelectors.ts"),Q=n("./app/containers/Console/ducks/index.ts"),q=regeneratorRuntime.mark(o),z=regeneratorRuntime.mark(a),Z=regeneratorRuntime.mark(s),J=regeneratorRuntime.mark(c),X=n("./node_modules/react-router-dom/index.js"),$=n("./node_modules/react-router-redux/index.js"),ee=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),te=n("./node_modules/reactstrap/dist/reactstrap.es.js"),ne=n("./node_modules/react-intl/lib/index.es.js"),re=Object(ne.e)({backButtonText:{id:"app.components.DeploymentItemLevelView.backButtonText",defaultMessage:"Back"},allEdgesSelected:{id:"app.components.DeploymentItemLevelView.allEdgesSelected",defaultMessage:"All edges selected"},applyItems:{id:"app.components.DeploymentItemLevelView.apply",defaultMessage:"Apply {number} items"}}),oe=n("./app/components/ConsolePage/index.tsx"),ae=n("./app/components/ConsolePageHeader/index.tsx"),se=n("./app/components/ConsolePageFooter/index.tsx"),ce=n("./app/components/DeployHelmet/index.tsx"),ie=n("./app/components/EntityIcons/index.ts"),le=function(e){switch(e){case"devices":return T.a.createElement(ie.k,null);case"users":return T.a.createElement(ie.D,null);default:return T.a.createElement(ie.i,null)}},ue=function(e){switch(e){case"devices":return"Select Devices";case"users":return"Select Users";case"edges":return"Select Edges";default:return"Select items from "+e}},pe=function(e){return T.a.createElement("div",null,le(e.assetClass)," ",ue(e.assetClass))},de=pe,fe=n("./node_modules/react-icons/lib/fa/long-arrow-left.js"),me=n.n(fe),ye=n("./app/containers/Console/state.ts"),Ee=function(){return function(e){return e.DeploymentItemLevelView}},_e=function(){return Object(P.a)(Ee(),function(e){return e})},be=function(){return Object(P.a)(_e(),function(e){return e.selectedItems})},ge=function(){return Object(P.a)(_e(),function(e){return e.selectedEdges})};!function(e){e.INIT_ITEM_LEVEL_VIEW_REQUEST="INIT_ITEM_LEVEL_VIEW_REQUEST",e.FETCHED_ASSETS="FETCHED_ASSETS",e.ON_ITEM_CHANGE="ON_ITEM_CHANGE",e.ON_EDGE_CHANGE="ON_EDGE_CHANGE"}(K||(K={}));var he=n("./app/cb-utils/console-entity-models/index.ts"),Ce={assetClass:null,selectedItems:[],selectedEdges:[]},Oe=i,je=n("./app/containers/Console/actions/deploymentConstants.ts"),xe=function(e,t,n){return{type:K.INIT_ITEM_LEVEL_VIEW_REQUEST,payload:{deploymentId:t,systemKey:e,assetClass:n}}},ve=function(e){return{type:K.FETCHED_ASSETS,payload:{assets:e}}},we=function(e){return{type:K.ON_ITEM_CHANGE,payload:{assets:e}}},Se=function(e){return{type:K.ON_EDGE_CHANGE,payload:{edges:e}}},Te=n("./app/containers/Console/sagas/deployments.ts"),Ie=n("./app/containers/Console/selectors/deployments.ts"),Ne=regeneratorRuntime.mark(l),Le=regeneratorRuntime.mark(u),Re=regeneratorRuntime.mark(p),Pe=regeneratorRuntime.mark(d),Ae=n("./app/containers/DeployDetail/actions.ts"),De=n("./app/containers/ConsoleCrudgridContainer/Loadable.ts"),ke=n("./app/cb-utils/createCheckBoxCell.tsx"),Me=n("./app/containers/Console/messages.ts"),Ge=n("./node_modules/lodash/lodash.js"),He=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fe=function(e,t,n){if(!n)return!1;for(var r=0,o=n.length;r<o;r+=1)if(!Ue(t,n[r][e]))return!1;return!0},Ue=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object(Ge.findIndex)(e,Ke({},n,{asset_id:t}))>-1},Ve=function(e){function t(){y(this,t);var e=E(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._hasSelectedAll=function(){return Fe(e.props.entity.PKColumnName,e.props.selected,e.props.rows)},e._transformColumns=function(t){return[{Header:function(){return T.a.createElement("div",{"data-cy":"toggle-deploy-all"},Object(ke.a)(e._toggleDeployAll,e._hasSelectedAll(),Me.a.deploy))},filterable:!1,resizable:!1,sortable:!1,width:80,Cell:function(t){return T.a.createElement("div",null,Object(ke.a)(function(n){return e._toggleItemDeploy(n,t)},e._isItemDeployed(t)))}},{Header:function(){return T.a.createElement("div",null,Object(ke.a)(e._toggleSyncAll,e._areAllItemsSynced(),Me.a.sync))},filterable:!1,resizable:!1,sortable:!1,width:70,Cell:function(t){return T.a.createElement("div",null,Object(ke.a)(function(n){return e._toggleItemSync(n,t)},e._isItemSynced(t)))}}].concat(m(t))},e._toggleDeployAll=function(t){var n=void 0;n=t?e.props.rows.filter(function(t){return-1===Object(Ge.findIndex)(e.props.selected,{asset_id:t[e.props.entity.PKColumnName]})}).map(function(t){return{asset_class:e.props.assetClass,asset_id:t[e.props.entity.PKColumnName],sync:!0}}).concat(e.props.selected):e.props.selected.filter(function(t){return-1===Object(Ge.findIndex)(e.props.rows,f({},e.props.entity.PKColumnName,t.asset_id))}),e._setSelected(n)},e._isItemDeployed=function(t){return Object(he.doesAssetExist)(e.props.selected,t.row[e.props.entity.PKColumnName])},e._toggleItemDeploy=function(t,n){var r=[].concat(m(e.props.selected));t?r.push({asset_class:e.props.assetClass,asset_id:n.row[e.props.entity.PKColumnName],sync:!0}):r=e.props.selected.filter(function(t){return t.asset_id!==n.row[e.props.entity.PKColumnName]}),e._setSelected(r)},e._toggleSyncAll=function(t){if(e._hasSelectedAll()){var n=e.props.selected.map(function(n){return Object(Ge.findIndex)(e.props.rows,f({},e.props.entity.PKColumnName,n.asset_id))>-1?Ke({},n,{sync:t}):n});e._setSelected(n)}},e._areAllItemsSynced=function(){if(!e._hasSelectedAll())return!1;for(var t=0,n=e.props.rows.length;t<n;t+=1)if(!Ue(e.props.selected,e.props.rows[t][e.props.entity.PKColumnName],{sync:!0}))return!1;return!0},e._isItemSynced=function(t){return Object(he.doesAssetExist)(e.props.selected,t.row[e.props.entity.PKColumnName],{sync:!0})},e._toggleItemSync=function(t,n){var r=e.props.selected.map(function(r){return r.asset_id===n.row[e.props.entity.PKColumnName]?Ke({},r,{sync:t}):r});e._setSelected(r)},e._setSelected=function(t){e.props.onChange(t)},e}return _(t,e),He(t,[{key:"render",value:function(){var e=this.props,t=e.selected,n=e.sliceName,r=e.collectionName,o=e.systemKey;return T.a.createElement(De.a,{selected:t,assetClass:n,collectionName:r,systemKey:o,transformColumns:this._transformColumns})}}]),t}(T.a.PureComponent),Be=Ve,We=n("./app/components/DeploymentEdgeGrid/index.tsx"),Ye=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Qe=Object(ee.b)(te.q).withConfig({displayName:"DeploymentItemLevelView__ContainerWrapper"})(["display: flex;flex-direction: column;justify-content: flex-end;"]),qe=ee.b.div.withConfig({displayName:"DeploymentItemLevelView__GridWrapper"})(["height: 100%;display: flex;"]),ze=function(e){return e.match.params.assetClass},Ze=function(e){var t=e.match.url.split("/");return t.slice(0,t.length-1).join("/")},Je=function(e){function t(){b(this,t);var e=g(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.assetClass=ze(e.props),e.prevUrl=Ze(e.props),e._renderCancelButton=function(){return T.a.createElement(X.Link,{to:e.prevUrl},T.a.createElement(te.e,{color:"default"},T.a.createElement(me.a,null),"Â ",T.a.createElement(ne.b,Object.assign({},re.backButtonText))," "))},e._renderSubmitButton=function(){var t=e.props,n=t.selectedItems,r=t.selectedEdges,o=t.intl.formatMessage;return e.assetClass===ye.a.edges?T.a.createElement(te.e,{"data-cy":"apply-selected-items",color:"primary",disabled:0===r.length||Object(he.shouldDeployToAllEdges)(r),onClick:function(){return e.props.updateEdgesForDeployment(r)}},Object(he.shouldDeployToAllEdges)(r)?T.a.createElement(ne.b,Object.assign({},re.allEdgesSelected)):o(re.applyItems,{number:r.length})):T.a.createElement(te.e,{"data-cy":"apply-selected-items",color:"primary",disabled:0===n.length,onClick:function(){return e.props.updateItemsForAssetClass(n)}},o(re.applyItems,{number:n.length}))},e._renderHeader=function(){return T.a.createElement(ae.a,{header:e._renderHeaderContents()})},e._renderHeaderContents=function(){return T.a.createElement(de,{assetClass:e.assetClass})},e}return h(t,e),Ye(t,[{key:"componentWillMount",value:function(){this.props.init()}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectedItems,r=t.entity,o=t.rows,a=t.onChangeItems,s=t.customEdgeColumns,c=t.selectedEdges,i=t.onChangeEdges,l=t.match.params,u=l.systemKey,p=l.assetClass,d=Object(ye.c)(p),f=d.collectionName,m=d.sliceName;return T.a.createElement(T.a.Fragment,null,T.a.createElement(ce.a,null),T.a.createElement(oe.a,{subheader:this._renderHeader()},T.a.createElement(Qe,{fluid:!0},T.a.createElement(qe,null,this.assetClass===ye.a.edges?T.a.createElement(We.a,{selectedEdges:c,onToggleEdges:i,columnNames:["name","isConnected","last_talked","description"].concat(Object.keys(s))}):T.a.createElement(Be,{selected:n,sliceName:m,assetClass:this.assetClass,collectionName:f,systemKey:u,entity:r,rows:o,onChange:a})))),T.a.createElement(se.a,{actionButtons:function(){return T.a.createElement(T.a.Fragment,null,e._renderCancelButton(),e._renderSubmitButton())}}))}}]),t}(T.a.PureComponent),Xe=function(e,t){var n=ze(t),r=Object(ye.c)(n),o=r.sliceName,a=r.collectionName,s=Q[o];return Object(P.b)({entity:Object(Y.b)(n),rows:s.selectors.rows(a),selectedItems:be(),selectedEdges:ge(),customEdgeColumns:Q.edgeSelectors.customColumns()})},$e=Object(I.b)(Xe,C),et=Object(R.a)({key:"DeploymentItemLevelView",reducer:Oe}),tt=Object(N.a)({key:"DeploymentItemLevelView",saga:d}),nt=Object(L.d)(et,tt,$e,ne.f)(Je),rt=n("./app/components/LoadingIndicator/index.tsx");n.d(t,"DeploymentItemLevelViewWrapper",function(){return at});var ot=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),at=function(e){function t(){return O(this,t),j(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return x(t,e),ot(t,[{key:"componentWillMount",value:function(){this.props.init()}},{key:"render",value:function(){var e=this.props,t=e.state.hasLoaded,n=e.match;return t?T.a.createElement(nt,{match:n,location:null,history:null}):T.a.createElement(rt.a,null)}}]),t}(T.a.PureComponent),st=Object(P.b)({state:M()}),ct=Object(I.b)(st,v),it=Object(R.a)({key:A,reducer:U}),lt=Object(N.a)({key:A,saga:c});t.default=Object(L.d)(it,lt,ct)(at)},"./node_modules/react-icons/lib/fa/long-arrow-left.js":function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n("./node_modules/react/index.js"),s=r(a),c=n("./node_modules/react-icon-base/lib/index.js"),i=r(c),l=function(e){return s.default.createElement(i.default,o({viewBox:"0 0 40 40"},e),s.default.createElement("g",null,s.default.createElement("path",{d:"m39 17.9v4.2q0 0.3-0.2 0.5t-0.5 0.2h-27.1v4.9q0 0.4-0.5 0.6t-0.7-0.1l-8.4-7.6q-0.2-0.3-0.2-0.5 0-0.3 0.2-0.6l8.4-7.7q0.3-0.3 0.7-0.1 0.4 0.2 0.4 0.6v4.9h27.2q0.3 0 0.5 0.2t0.2 0.5z"})))};t.default=l,e.exports=t.default}});
//# sourceMappingURL=27.f300afa15bfad70aa88a.chunk.js.map