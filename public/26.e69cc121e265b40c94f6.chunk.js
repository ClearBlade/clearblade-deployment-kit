webpackJsonp([26],{"./app/cb-utils/createCheckBoxCell.tsx":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n("./node_modules/react/index.js"),a=n.n(r),s=n("./node_modules/react-intl/lib/index.es.js"),o=function(e,t,n){return a.a.createElement("div",{className:"text-center c-pointer",onClick:function(){return e(!t)}},a.a.createElement("input",{className:"c-pointer",type:"checkbox",checked:t}),n&&a.a.createElement(s.b,Object.assign({},n)))}},"./app/components/AssetClassIconWrapper/index.tsx":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("./node_modules/react/index.js"),i=n.n(o),l=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),c=n("./app/cb-utils/withStyledProps.ts"),u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  font-size: 2.5rem;\n  opacity: ",";\n  transition: opacity .3s ease-in-out;\n  -moz-transition: opacity .3s ease-in-out;\n  -webkit-transition: opacity .3s ease-in-out;\n"],["\n  font-size: 2.5rem;\n  opacity: ",";\n  transition: opacity .3s ease-in-out;\n  -moz-transition: opacity .3s ease-in-out;\n  -webkit-transition: opacity .3s ease-in-out;\n"]),f=Object(c.a)()(l.b.div)(d,function(e){return e.isOn?"1":".5"}),m=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={isOn:!0},e.handle=null,e.createInterval=function(){e.handle=setInterval(e.flipIt,300)},e.flipIt=function(){e.setState(u({},e.state,{isOn:!e.state.isOn}))},e}return s(t,e),p(t,[{key:"componentDidMount",value:function(){this.props.isFetching&&this.createInterval()}},{key:"componentWillReceiveProps",value:function(e){this.props.isFetching!==e.isFetching&&(e.isFetching?this.createInterval():(this.state.isOn||this.flipIt(),clearInterval(this.handle)))}},{key:"render",value:function(){return i.a.createElement(f,{isOn:this.state.isOn},this.props.children)}}]),t}(i.a.Component);m.defaultProps={isFetching:!1},t.a=m},"./app/components/ConsolePage/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),a=n.n(r),s=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),o=n("./app/components/ZeroState/index.tsx"),i=n("./app/components/LoadingIndicator/index.tsx"),l=s.b.div.withConfig({displayName:"ConsolePage__ContentWrapper"})(["padding: 0 2rem;"]),c=Object(s.b)("div").withConfig({displayName:"ConsolePage__BodyWrapper"})(["padding: 0 2rem;flex-grow: 1;height: 100%;overflow-y: ",";display: flex;padding-top: 0.1rem; /* add a tiny bit of padding so things in the body don't get cut off */"],function(e){return e.allowScroll?"auto":""}),u=function(e){return e.isFetchingAssets?a.a.createElement(i.a,{forPage:!0}):e.zeroState.show?a.a.createElement(c,{allowScroll:e.allowScroll},a.a.createElement(o.a,Object.assign({},e.zeroState))):a.a.createElement(a.a.Fragment,null,e.subheader&&a.a.createElement(l,null," ",e.subheader," "),a.a.createElement(c,{allowScroll:e.allowScroll},e.children))};u.defaultProps={isFetchingAssets:!1,allowScroll:!0,zeroState:{show:!1,title:null,info:null,addButton:null,icon:null}},t.a=u},"./app/components/ConsolePageFooter/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),a=n.n(r),s=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),o=s.b.div.withConfig({displayName:"ConsolePageFooter__MyFoot"})(["min-height: 3.5rem;display: flex;align-items: center;padding: 0.5rem 1rem;z-index: 1;background: white;"]),i=s.b.div.withConfig({displayName:"ConsolePageFooter__ActionButtonContainer"})(["margin-left: auto;"]),l=function(e){return a.a.createElement(o,null,e.leftButtons&&a.a.createElement(e.leftButtons,null),e.actionButtons&&a.a.createElement(i,null,a.a.createElement(e.actionButtons,null)))};t.a=l},"./app/components/ConsolePageHeader/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),a=n.n(r),s=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),o=s.b.div.withConfig({displayName:"ConsolePageHeader__Wrapper"})(["display: flex;align-items: center;margin-bottom: 2rem;flex-wrap: wrap;"]),i=s.b.div.withConfig({displayName:"ConsolePageHeader__SubHeaderWrapper"})(["flex-basis: 100%;"]),l=function(e){return a.a.createElement(o,null,a.a.createElement("h2",null,e.header&&e.header),a.a.createElement("div",{className:"ml-auto"},e.actionButton&&a.a.createElement(e.actionButton,null)),e.subHeader&&a.a.createElement(i,null," ",e.subHeader))};t.a=l},"./app/components/DeployHelmet/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),a=n.n(r),s=n("./node_modules/react-helmet/lib/Helmet.js"),o=n.n(s),i=function(e){return a.a.createElement(o.a,{title:"ClearBlade - Deploy",meta:[{name:"description",content:"Description of Deploy"}]})};t.a=i},"./app/components/DeploymentEdgeGrid/index.tsx":function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=n("./node_modules/react/index.js"),l=n.n(i),c=n("./app/containers/Console/state.ts"),u=n("./app/containers/ConsoleCrudgridContainer/Loadable.ts"),p=n("./app/cb-utils/getPathParams.ts"),d=n("./app/cb-utils/createCheckBoxCell.tsx"),f=n("./node_modules/lodash/lodash.js"),m=(n.n(f),n("./app/cb-utils/console-entity-models/index.ts")),y=n("./app/containers/Console/ducks/index.ts"),b=n("./node_modules/react-redux/es/index.js"),g=n("./node_modules/reselect/es/index.js"),h=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),E=function(e){function t(){a(this,t);var e=s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._transformEdgeColumns=function(t){return[{Header:function(){return l.a.createElement("div",{"data-cy":"toggle-deploy-all"},Object(d.a)(e._toggleSelectAllEdges,e._hasSelectedAllEdges()))},filterable:!1,resizable:!1,sortable:!1,width:80,Cell:function(t){return l.a.createElement("div",null,Object(d.a)(function(n){return e._toggleEdge(n,t.row.name)},e._isEdgeSelected(t.row.name)))}}].concat(r(t))},e._isEdgeSelected=function(t){return e.props.selectedEdges.indexOf(t)>-1},e._toggleEdge=function(t,n){var r=e.props.selectedEdges;r=Object(m.shouldDeployToAllEdges)(r)?[]:r;var a=void 0;a=t?[n].concat(r):r.filter(function(e){return e!==n}),e.props.onToggleEdges(a)},e._toggleSelectAllEdges=function(t){var n=e.props.selectedEdges;n=Object(m.shouldDeployToAllEdges)(n)?[]:n;var r=void 0;r=t?e.props.rows.filter(function(e){return-1===n.indexOf(e.name)}).map(function(e){return e.name}).concat(n):n.filter(function(t){return-1===Object(f.findIndex)(e.props.rows,{name:t})}),e.props.onToggleEdges(r)},e._hasSelectedAllEdges=function(){var t=!0,n=!1,r=void 0;try{for(var a,s=e.props.rows[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var o=a.value;if(-1===e.props.selectedEdges.indexOf(o.name))return!1}}catch(e){n=!0,r=e}finally{try{!t&&s.return&&s.return()}finally{if(n)throw r}}return!0},e}return o(t,e),h(t,[{key:"render",value:function(){var e=this.props,t=e.columnNames,n=e.allowFilter;return l.a.createElement(u.a,{assetClass:c.a.edges,systemKey:Object(p.c)(),columnNames:t,allowFilter:n,transformColumns:this._transformEdgeColumns})}}]),t}(l.a.PureComponent),O=Object(g.b)({rows:y.edgeSelectors.rows()}),_=Object(b.b)(O);t.a=_(E)},"./app/components/EntityDescriptionEditor/index.tsx":function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=n("./node_modules/react/index.js"),i=n.n(o),l=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),c=n("./node_modules/reactstrap/dist/reactstrap.es.js"),u=n("./app/components/EntityIcons/index.ts"),p=n("./app/cssOverrides/styleVars.ts"),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),m=l.b.div.withConfig({displayName:"EntityDescriptionEditor__Wrapper"})(["max-width: 50vw;display: flex;"]),y=l.b.div.withConfig({displayName:"EntityDescriptionEditor__PreviewWrapper"})(["max-width: 90%;color: ",";display: inline-block;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;"],p.a.gray600),b=l.b.div.withConfig({displayName:"EntityDescriptionEditor__IconWrapper"})(["margin-left: 1rem;display: inline-block;"]),g=function(e){function t(){r(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={editMode:!1},e.handleClick=function(){e.state.editMode||e.toggleEditMode(!0,!1)},e.toggleEditMode=function(t,n){n&&e.props.onBlur&&e.props.onBlur(),e.setState(d({},e.state,{editMode:t}))},e}return s(t,e),f(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.onChange,a=t.defaultValue;return i.a.createElement(m,{className:"c-pointer",onClick:this.handleClick},this.state.editMode?i.a.createElement(c.y,{autoFocus:!0,type:"textarea",value:n,onChange:function(e){return r(e.target.value)},onBlur:function(){return e.toggleEditMode(!1,!0)}}):i.a.createElement(i.a.Fragment,null,i.a.createElement(y,null,n||a),i.a.createElement(b,null,i.a.createElement(u.t,null))))}}]),t}(i.a.Component);g.defaultProps={defaultValue:""},t.a=g},"./app/components/ZeroState/index.tsx":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),a=n.n(r),s=n("./node_modules/react-intl/lib/index.es.js"),o=n("./node_modules/reactstrap/dist/reactstrap.es.js"),i=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),l=Object(i.b)(o.C).withConfig({displayName:"ZeroState__JumboWrapper"})(["width: 100%;display: inline-table; /* note: this allows the jumbotron to only take up the space it needs, rather than the entire page */"]),c=function(e){return a.a.createElement(l,{className:e.className},a.a.createElement("h1",{className:"display-3"},e.icon," ",a.a.createElement(s.b,Object.assign({},e.title))),a.a.createElement("p",{className:"lead"},a.a.createElement(s.b,Object.assign({},e.info))),a.a.createElement("hr",{className:"my-2"}),e.moreInfo&&a.a.createElement("p",null,e.moreInfo),a.a.createElement("p",{className:"lead"},e.addButton))};t.a=c},"./app/containers/Console/actions/deployment.ts":function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"a",function(){return s}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return l});var r=n("./app/containers/Console/actions/deploymentConstants.ts"),a=function(e){return{type:r.a.SET_MODIFIABLE_DEPLOYMENT,payload:{config:e}}},s=function(e){return{type:r.a.CLEAR_MODIFIABLE_DEPLOYMENT,payload:{name:e}}},o=function(e,t){return{type:r.a.FETCH_SINGLE_DEPLOYMENT_REQUEST,payload:{systemKey:e,name:t}}},i=function(e){return{type:r.a.FETCH_SINGLE_DEPLOYMENT_SUCCESS,payload:{config:e}}},l=function(e){return{type:r.a.FETCH_SINGLE_DEPLOYMENT_ERROR,payload:{error:e}}}},"./app/containers/Console/sagas/deployments.ts":function(e,t,n){"use strict";function r(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.g)(c.a.FETCH_SINGLE_DEPLOYMENT_SUCCESS,regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.c)(Object(u.e)(t.payload.config));case 2:case"end":return e.stop()}},e,this)}));case 2:case"end":return e.stop()}},y,this)}function a(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.g)(c.a.FETCH_SINGLE_DEPLOYMENT_REQUEST,regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(l.b)(p.c,t.payload.systemKey,t.payload.name);case 3:return n=e.sent,e.next=6,Object(l.c)(Object(u.d)(n));case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(l.c)(Object(u.b)(e.t0));case 12:case"end":return e.stop()}},e,this,[[0,8]])}));case 2:case"end":return e.stop()}},b,this)}function s(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.g)(c.a.FETCH_SINGLE_DEPLOYMENT_ERROR,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:case"end":return e.stop()}},e,this)}));case 2:case"end":return e.stop()}},g,this)}function o(e,t){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(l.d)(Object(f.c)(t));case 2:if(n=r.sent){r.next=7;break}return r.next=6,Object(l.c)(Object(u.c)(e,t));case 6:return r.abrupt("return",null);case 7:return r.abrupt("return",n);case 8:case"end":return r.stop()}},h,this)}function i(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.c)(Object(d.g)(m.d));case 2:case"end":return e.stop()}},E,this)}t.e=r,t.c=a,t.b=s,t.a=o,t.d=i;var l=n("./node_modules/redux-saga/es/effects.js"),c=n("./app/containers/Console/actions/deploymentConstants.ts"),u=n("./app/containers/Console/actions/deployment.ts"),p=n("./app/cb-utils/services/deployment.ts"),d=n("./app/containers/Console/actions/ui.ts"),f=n("./app/containers/Console/selectors/deployments.ts"),m=n("./app/containers/Console/routes/deployments.ts"),y=regeneratorRuntime.mark(r),b=regeneratorRuntime.mark(a),g=regeneratorRuntime.mark(s),h=regeneratorRuntime.mark(o),E=regeneratorRuntime.mark(i)},"./app/containers/Console/selectors/deployments.ts":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return c}),n.d(t,"d",function(){return u});var r=n("./node_modules/reselect/es/index.js"),a=n("./app/containers/Console/consoleSelectors.ts"),s=function(){return Object(r.a)(Object(a.e)(),function(e){return e.deployments})},o=function(e){return Object(r.a)(s(),function(t){return t.entities[e]})},i=function(){return Object(r.a)(Object(a.f)(),function(e){return e.deployments})},l=function(e){return Object(r.a)(i(),function(t){return t[e]})},c=function(e){return Object(r.a)(l(e),function(e){return e?e.assets:[]})},u=function(e){return Object(r.a)(l(e),function(e){return e.edges})}},"./app/containers/ConsoleCrudgridContainer/Loadable.ts":function(e,t,n){"use strict";var r=n("./app/components/WithLoadable/index.tsx");t.a=Object(r.a)(function(){return n.e(24).then(n.bind(null,"./app/containers/ConsoleCrudgridContainer/index.tsx"))})},"./app/containers/DeployDetail/actions.ts":function(e,t,n){"use strict";n.d(t,"p",function(){return a}),n.d(t,"q",function(){return s}),n.d(t,"m",function(){return o}),n.d(t,"n",function(){return i}),n.d(t,"o",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return u}),n.d(t,"e",function(){return p}),n.d(t,"d",function(){return d}),n.d(t,"f",function(){return f}),n.d(t,"b",function(){return m}),n.d(t,"h",function(){return y}),n.d(t,"i",function(){return b}),n.d(t,"g",function(){return g}),n.d(t,"s",function(){return h}),n.d(t,"t",function(){return E}),n.d(t,"r",function(){return O}),n.d(t,"k",function(){return _}),n.d(t,"l",function(){return j}),n.d(t,"j",function(){return v});var r=n("./app/containers/DeployDetail/actionConstants.ts"),a=function(e,t){return{type:r.a.INIT_ASSET_MANAGER,payload:{systemKey:e,deploymentId:t}}},s=function(e){return{type:r.a.REFRESH_ASSETS,payload:{systemKey:e}}},o=function(e,t){return{type:r.a.DEPLOYMENT_DESCRIPTION_CHANGE,payload:{name:e,value:t}}},i=function(e,t){return{type:r.a.EDGE_TOGGLE,payload:{name:e,newSelected:t}}},l=function(e,t){return{type:r.a.EDGE_TOGGLE_ALL,payload:{name:e,isChecked:t}}},c=function(e,t){return{type:r.a.APPLY_GRID_EDGES,payload:{depName:e,edges:t}}},u=function(e,t,n,a,s){return{type:r.a.ASSET_DEPLOY_TOGGLE,payload:{name:e,allAssets:t,assetClass:n,assetId:a,isChecked:s}}},p=function(e,t,n,a,s){return{type:r.a.ASSET_SYNC_TOGGLE,payload:{name:e,allAssets:t,assetClass:n,assetId:a,isChecked:s}}},d=function(e,t,n){return{type:r.a.ASSET_DEPLOY_TOGGLE_ALL,payload:{name:e,assetClass:t,isChecked:n}}},f=function(e,t,n){return{type:r.a.ASSET_SYNC_TOGGLE_ALL,payload:{name:e,assetClass:t,isChecked:n}}},m=function(e,t,n){return{type:r.a.ASSET_CHANGE,payload:{name:e,assetClass:t,assets:n}}},y=function(e,t){return{type:r.a.CREATE_DEPLOYMENT_REQUEST,payload:{systemKey:e,deployment:t}}},b=function(e){return{type:r.a.CREATE_DEPLOYMENT_SUCCESS,payload:{systemKey:e}}},g=function(e){return{type:r.a.CREATE_DEPLOYMENT_ERROR,payload:{error:e}}},h=function(e,t){return{type:r.a.UPDATE_DEPLOYMENT_REQUEST,payload:{systemKey:e,name:t}}},E=function(e){return{type:r.a.UPDATE_DEPLOYMENT_SUCCESS,payload:{name:e}}},O=function(e){return{type:r.a.UPDATE_DEPLOYMENT_ERROR,payload:{error:e}}},_=function(e,t){return{type:r.a.DELETE_DEPLOYMENT_REQUEST,payload:{systemKey:e,name:t}}},j=function(e,t){return{type:r.a.DELETE_DEPLOYMENT_SUCCESS,payload:{systemKey:e,name:t}}},v=function(e){return{type:r.a.DELETE_DEPLOYMENT_ERROR,payload:{error:e}}}},"./app/containers/DeployDetail/index.tsx":function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le;switch(arguments[1].type){case ie.a.UPDATE_DEPLOYMENT_REQUEST:return oe()(e,function(e){return e.isSubmitting},function(){return!0});case ie.a.UPDATE_DEPLOYMENT_SUCCESS:case ie.a.UPDATE_DEPLOYMENT_ERROR:return oe()(e,function(e){return e.isSubmitting},function(){return!1});default:return e}}function a(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(ue.d)(Object(Z.e)());case 2:if(t=r.sent,t.services.hasFetched&&!n){r.next=6;break}return r.next=6,Object(ue.c)(be.serviceActions.fetchAll.request(e));case 6:if(t.portals.hasFetched&&!n){r.next=9;break}return r.next=9,Object(ue.c)(be.portalActions.fetchAll.request(e));case 9:if(t.libraries.hasFetched&&!n){r.next=12;break}return r.next=12,Object(ue.c)(be.libraryActions.fetchAll.request(e));case 12:if(t.triggers.hasFetched&&!n){r.next=15;break}return r.next=15,Object(ue.c)(be.triggerActions.fetchAll.request(e));case 15:if(t.timers.hasFetched&&!n){r.next=18;break}return r.next=18,Object(ue.c)(be.timerActions.fetchAll.request(e));case 18:if(t.adaptors.hasFetched&&!n){r.next=21;break}return r.next=21,Object(ue.c)(be.adapterActions.fetchAll.request(e));case 21:if(t.plugins.hasFetched&&!n){r.next=24;break}return r.next=24,Object(ue.c)(be.pluginActions.fetchAll.request(e));case 24:if(t.collections.hasFetched&&!n){r.next=27;break}return r.next=27,Object(ue.c)(be.collectionActions.fetchAll.request(e));case 27:if(t.users.count.total.hasFetched&&!n){r.next=30;break}return r.next=30,Object(ue.c)(be.userActions.fetchCount.request({systemKey:e,query:Object(ge.b)()}));case 30:if(t.devices.count.total.hasFetched&&!n){r.next=33;break}return r.next=33,Object(ue.c)(be.deviceActions.fetchCount.request({systemKey:e,query:Object(ge.b)()}));case 33:case"end":return r.stop()}},_e,this)}function s(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.g)(ie.a.INIT_ASSET_MANAGER,regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload.systemKey,e.next=3,Object(Ee.a)(t.payload.systemKey,t.payload.deploymentId);case 3:return e.next=5,a(n,!0);case 5:case"end":return e.stop()}},e,this)}));case 2:case"end":return e.stop()}},je,this)}function o(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.g)(ie.a.UPDATE_DEPLOYMENT_REQUEST,regeneratorRuntime.mark(function e(t){var n,r,a,s;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.payload.name,e.next=3,Object(ue.d)(Object(he.a)(n));case 3:return r=e.sent,e.next=6,Object(ue.d)(Object(he.c)(n));case 6:return a=e.sent,e.prev=7,s=ye(r,a),e.next=11,Object(ue.b)(de.e,t.payload.systemKey,a.name,s);case 11:return e.next=13,Object(ue.c)(Object(pe.t)(a.name));case 13:return e.next=15,Object(Ee.d)();case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(7),e.next=21,Object(ue.c)(Object(pe.r)(e.t0));case 21:case"end":return e.stop()}},e,this,[[7,17]])}));case 2:case"end":return e.stop()}},ve,this)}function i(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.g)(ie.a.REFRESH_ASSETS,regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a(t.payload.systemKey,!0);case 2:case"end":return e.stop()}},e,this)}));case 2:case"end":return e.stop()}},we,this)}function l(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.g)(ie.a.DELETE_DEPLOYMENT_REQUEST,regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(ue.b)(de.b,t.payload.systemKey,t.payload.name);case 3:return e.next=5,Object(ue.c)(Object(pe.l)(t.payload.systemKey,t.payload.name));case 5:return e.next=7,Object(Ee.d)();case 7:e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(0),e.next=13,Object(ue.c)(Object(pe.j)(e.t0));case 13:case"end":return e.stop()}},e,this,[[0,9]])}));case 2:case"end":return e.stop()}},Ce,this)}function c(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.g)(ie.a.UPDATE_DEPLOYMENT_SUCCESS,regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.c)(Object(Oe.a)(t.payload.name));case 2:case"end":return e.stop()}},e,this)}));case 2:case"end":return e.stop()}},xe,this)}function u(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.a)([s(),Object(Ee.c)(),o(),i(),Object(Ee.e)(),l(),Object(Ee.b)(),c()]);case 2:case"end":return e.stop()}},Te,this)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function S(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments[1];switch(t.type){case _t.TOGGLE_EXPAND_ALL:return Rt(e,!e.expandAll);case Nt.a.ON_DISMISS_DEPLOYMENT_MODAL:case ie.a.UPDATE_DEPLOYMENT_SUCCESS:case ie.a.CREATE_DEPLOYMENT_SUCCESS:return Rt(e,!1);case _t.TOGGLE_EXPAND_ASSET_CLASS:return oe()(e,function(e){return e.entitiesPresentation[t.payload.assetClass]},function(e){return kt({},e,{isExpanded:!e.isExpanded})});default:return e}}function D(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function k(e){return{toggleExpandAll:function(){return e(ln())},toggleAssetClass:function(t){return e(cn(t))}}}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function R(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function H(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function B(e,t){var n=t.match.params.deploymentName;return{init:function(t,n){return e(Object(pe.p)(t,n))},refreshAssets:function(t){return e(Object(pe.q)(t))},onDescriptionChange:function(t){return e(Object(pe.m)(n,t))},onToggleEdge:function(t){return e(Object(pe.n)(n,t))},onEdgeToggleAll:function(t){return e(Object(pe.o)(n,t))},onAssetDeployToggle:function(t,r,a,s){return e(Object(pe.c)(n,t,r,a,s))},onAssetDeployToggleAll:function(t,r){return e(Object(pe.d)(n,t,r))},onAssetSyncToggle:function(t,r,a,s){return e(Object(pe.e)(n,t,r,a,s))},onAssetSyncToggleAll:function(t,r){return e(Object(pe.f)(n,t,r))},onAssetChange:function(t,r){return e(Object(pe.b)(n,t,r))},onSubmit:function(t){e(Object(pe.s)(t,n))},discardChanges:function(){return e(Object(kn.g)(Ln.d))},deleteDeployment:function(t){return e(Object(kn.l)("Are you sure you want to delete this deployment?",Object(pe.k)(t,n)))}}}Object.defineProperty(t,"__esModule",{value:!0});var G=n("./node_modules/react/index.js"),Y=n.n(G),U=n("./node_modules/styled-components/dist/styled-components.browser.esm.js"),W=n("./node_modules/react-redux/es/index.js"),K=n("./node_modules/react-intl/lib/index.es.js"),q=n("./app/utils/injectSaga.tsx"),z=n("./node_modules/redux/es/index.js"),X=n("./app/utils/injectReducer.tsx"),V=n("./node_modules/reselect/es/index.js"),Q=n("./node_modules/lodash/lodash.js"),Z=n("./app/containers/Console/consoleSelectors.ts"),J=n("./app/cb-utils/console-entity-models/roles.ts"),$=n("./app/cb-utils/console-entity-models/libraries.ts"),ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},te=function(){return function(e){return e.DeploymentDetail}},ne=function(){return Object(V.a)(te(),function(e){return e})},re=function(){return Object(V.a)(ne(),function(e){return e.isSubmitting})},ae=function(){return Object(V.a)(Object(Z.e)(),function(e){return ee({},e,{roles:ee({},e.roles,{entities:Object(Q.omit)(e.roles.entities,[J.c,J.b,J.a])}),libraries:ee({},e.libraries,{entities:Object(Q.pickBy)(e.libraries.entities,function(e){return e.visibility!==$.a.GLOBAL})})})})},se=n("./node_modules/immutable-assign/deploy/iassign.js"),oe=n.n(se),ie=n("./app/containers/DeployDetail/actionConstants.ts"),le={isSubmitting:!1},ce=r,ue=n("./node_modules/redux-saga/es/effects.js"),pe=n("./app/containers/DeployDetail/actions.ts"),de=n("./app/cb-utils/services/deployment.ts"),fe=function(e,t){return e.filter(function(e){var n=Object(Q.find)(t,function(t){return e.asset_class===t.asset_class&&e.asset_id===t.asset_id});return!n||n.sync!==e.sync})},me=function(e,t){return Object(Q.differenceBy)(e,t)},ye=function(e,t){var n={assets:{add:[],remove:[]},edges:{add:[],remove:[]}};return n.assets.add=fe(t.assets,e.assets),n.assets.remove=fe(e.assets,t.assets),n.edges.add=me(t.edges,e.edges),n.edges.remove=me(e.edges,t.edges),t.description!==e.description&&(n.description=t.description),n},be=n("./app/containers/Console/ducks/index.ts"),ge=n("./app/cb-utils/console-entity-models/query.ts"),he=n("./app/containers/Console/selectors/deployments.ts"),Ee=n("./app/containers/Console/sagas/deployments.ts"),Oe=n("./app/containers/Console/actions/deployment.ts"),_e=regeneratorRuntime.mark(a),je=regeneratorRuntime.mark(s),ve=regeneratorRuntime.mark(o),we=regeneratorRuntime.mark(i),Ce=regeneratorRuntime.mark(l),xe=regeneratorRuntime.mark(c),Te=regeneratorRuntime.mark(u),Se=n("./app/containers/Console/messages.ts"),Ae=Object(K.e)({headerNew:{id:"app.components.DeploymentModal.headerNew",defaultMessage:"New Deployment"},headerExisting:{id:"app.components.DeploymentModal.headerExisting",defaultMessage:"Update Deployment"},nameFieldLabel:{id:"app.components.DeploymentModal.nameFieldLabel",defaultMessage:"Name"},backButtonText:{id:"app.components.DeploymentModal.backButtonText",defaultMessage:"Back"},deleteDeployment:{id:"app.containers.RoleDetail.deleteDeployment",defaultMessage:"Delete Deployment"}}),De=n("./app/components/EntityIcons/index.ts"),Pe=n("./node_modules/reactstrap/dist/reactstrap.es.js"),Ne=Object(K.e)({header:{id:"app.components.DeploymentAssetManager.header",defaultMessage:"Select Assets"},expandAllAssetClasses:{id:"app.components.DeploymentAssetManager.expandAllAssetClasses",defaultMessage:"Expand All"},collapseAllAssetClasses:{id:"app.components.DeploymentAssetManager.collapseAllAssetClasses",defaultMessage:"Collapse All"}}),ke=Ne,Le=Object(U.b)(Pe.h).withConfig({displayName:"DeploymentCardBody__Body"})(["height: 100%;padding: 0 !important;"]),Me=function(e){return Y.a.createElement(Le,null,e.children)},Re=Me,Ie=Object(U.b)(Pe.g).withConfig({displayName:"CardWithHoverEffect__CardWrapper"})(["",";"],function(e){return!e["data-alloweffect"]&&"transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\n\n&::after {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  transition: all 2s cubic-bezier(0.165, 0.84, 0.44, 1);\n  box-shadow: 0 8px 17px 0 rgba(0, 0, 0, 0.2),\n    0 6px 20px 0 rgba(0, 0, 0, 0.15);\n  content: '';\n  opacity: 0;\n  z-index: -1;\n}\n\n&:hover,\n&:focus {\n  transform: scale3d(1.006, 1.006, 1);\n\n  &::after {\n    opacity: 1;\n  }\n}"}),Fe=function(e){return Y.a.createElement(Ie,{"data-alloweffect":e.allowEffect},e.children)},He=Fe,Be=n("./app/components/AssetClassIconWrapper/index.tsx"),Ge=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Ye=U.b.div.withConfig({displayName:"DeploymentAssetClass__CardBodyContainer"})(["cursor: pointer;height: 150px;display: flex;"]),Ue=Object(U.b)(Pe.h).withConfig({displayName:"DeploymentAssetClass__MyCardBody"})(["width: 100%;"]),We=U.b.h5.withConfig({displayName:"DeploymentAssetClass__AssetClassHeader"})(["text-overflow: ellipsis;white-space: nowrap;overflow: auto;"]),Ke=function(e){function t(){return p(this,t),d(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),Ge(t,[{key:"render",value:function(){var e=this.props,t=e.isExpanded,n=e.name,r=e.previewText,a=e.assets,s=e.isFetching,o=e.selectedAssets,i=e.onToggleDeploy,l=e.onToggleSync,c=e.onToggleDeployAll,u=e.onToggleSyncAll,p=e.assetComponent,d=e.assetClassIcon,f=e.onAssetChange,m=e.assetClass;return Y.a.createElement(He,{allowEffect:t},Y.a.createElement(Ye,{onClick:this.props.onExpand},Y.a.createElement(Ue,{className:"text-center"},Y.a.createElement(Be.a,{isFetching:s},Y.a.createElement(d,null)),Y.a.createElement(We,null,Y.a.createElement(K.b,Object.assign({},n))),Y.a.createElement("div",null,Y.a.createElement("sub",null,r)))),Y.a.createElement(Pe.p,{isOpen:t},Y.a.createElement(Re,null,Y.a.createElement(p,{rows:a.entities,onToggleDeploy:i,onToggleSync:l,onToggleDeployAll:c,onToggleSyncAll:u,selected:o,onChange:f,assetClass:m}))))}}]),t}(Y.a.PureComponent),qe=Ke,ze=Object(K.e)({nameHeader:{id:"app.components.SimpleAssetTable.nameHeader",defaultMessage:"Name"},deploy:{id:"app.components.SimpleAssetTable.deploy",defaultMessage:"Deploy"},deployInfo:{id:"app.components.SimpleAssetTable.deployInfo",defaultMessage:"When an asset is selected to deploy it will be sent to all edges defined in this deployment on either edge start up or when the deployment is created, whichever comes first. Note that once the asset has been deployed any updates made from the platform will not be replicated on the edges."},sync:{id:"app.components.SimpleAssetTable.sync",defaultMessage:"Sync"},syncInfo:{id:"app.components.SimpleAssetTable.syncInfo",defaultMessage:"When an asset is selected to sync with edges it will set up a bi-directional contract between the platform and edges - if said asset is modified on the platform, the change will be replicated to all edges within the deployment. Conversely, if said asset is modified at the edge, it will be replicated on the platform and all the other edges defined in the deployment."},allAssets:{id:"app.components.SimpleAssetTable.allAssets",defaultMessage:"All Assets"},allAssetsInfo:{id:"app.components.SimpleAssetTable.allAssetsInfo",defaultMessage:"By selecting the checkbox on top for either deploy or sync, the platform will apply the strategy to all current assets and any assets created in the future for this asset class."}}),Xe=n("./app/cb-utils/console-entity-models/deployment.ts"),Ve=Object(K.e)({syncStrategy:{id:"app.components.SyncStrategyInfo.syncStrategy",defaultMessage:"Sync Strategy"}}),Qe=n("./app/components/HelpPrimitive/index.tsx"),Ze=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Je=Object(U.b)(Pe.e).withConfig({displayName:"SyncStrategyInfo__ButtonWrapper"})(["border: none;"]),$e=function(e){function t(){return m(this,t),y(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return b(t,e),Ze(t,[{key:"render",value:function(){var e=this.props,t=e.buttonConfig,n=e.body;return Y.a.createElement(Qe.a,{body:n,headerText:Ve.syncStrategy,targetWrapperTag:Je,targetWrapperProps:t})}}]),t}(Y.a.PureComponent);$e.defaultProps={buttonConfig:{color:"default"}};var et=$e,tt=function(){return Y.a.createElement("dl",null,Y.a.createElement("dt",null,Y.a.createElement(K.b,Object.assign({},ze.deploy))),Y.a.createElement("dd",null,Y.a.createElement(K.b,Object.assign({},ze.deployInfo))),Y.a.createElement("dt",null,Y.a.createElement(K.b,Object.assign({},ze.sync))),Y.a.createElement("dd",null,Y.a.createElement(K.b,Object.assign({},ze.syncInfo))),Y.a.createElement("dt",null,Y.a.createElement(K.b,Object.assign({},ze.allAssets))),Y.a.createElement("dd",null,Y.a.createElement(K.b,Object.assign({},ze.allAssetsInfo))))},nt=tt,rt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),at=Object(U.b)(Pe.X).withConfig({displayName:"SimpleAssetTable__TableWrapper"})(["text-align: left;"]),st=function(e){function t(){g(this,t);var e=h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._shouldDeployAll=function(e){return Object(Xe.g)(e)},e._shouldSyncAll=function(e){return Object(Xe.i)(e)},e._isItemDeployed=function(t,n){return e._shouldDeployAll(n)||Object(Q.findIndex)(n,{asset_id:t.name})>-1},e._isItemSynced=function(t,n){return e._shouldSyncAll(n)||Object(Q.findIndex)(n,{asset_id:t.name,sync:!0})>-1},e._renderRows=function(t){var n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(e._renderTableRow(t[r]));return n},e._renderTableRow=function(t){return Y.a.createElement("tr",{key:t.name},Y.a.createElement("td",null,t.name),Y.a.createElement("td",null,Y.a.createElement("input",{type:"checkbox",checked:e._isItemDeployed(t,e.props.selected),onChange:function(n){return e.props.onToggleDeploy(t.name,n.target.checked)}})),Y.a.createElement("td",null,Y.a.createElement("input",{type:"checkbox",checked:e._isItemSynced(t,e.props.selected),onChange:function(n){return e.props.onToggleSync(t.name,n.target.checked)}})))},e}return E(t,e),rt(t,[{key:"render",value:function(){var e=this,t=this.props.selected;return Y.a.createElement(at,{striped:!0,size:"sm"},Y.a.createElement("thead",null,Y.a.createElement("tr",null,Y.a.createElement("th",null,Y.a.createElement(K.b,Object.assign({},ze.nameHeader))),Y.a.createElement("th",null,Y.a.createElement("input",{type:"checkbox",checked:this._shouldDeployAll(t),onChange:function(t){return e.props.onToggleDeployAll(t.target.checked)}})," ",Y.a.createElement(K.b,Object.assign({},Se.a.deploy)),Y.a.createElement(et,{body:Y.a.createElement(nt,null)})),Y.a.createElement("th",null,Y.a.createElement("input",{type:"checkbox",checked:this._shouldSyncAll(t),onChange:function(t){return e.props.onToggleSyncAll(t.target.checked)}})," ",Y.a.createElement(K.b,Object.assign({},Se.a.sync))))),Y.a.createElement("tbody",null,this._renderRows(this.props.rows)))}}]),t}(Y.a.PureComponent),ot=st,it=function(e){return Y.a.createElement("div",null,Y.a.createElement("div",null,e.header),Y.a.createElement(Pe.q,null,Y.a.createElement(Pe.U,null,e.children)))},lt=it,ct=n("./node_modules/react-router-dom/index.js"),ut=n("./node_modules/react-router/index.js"),pt=n("./node_modules/react-icons/lib/fa/wrench.js"),dt=n.n(pt),ft=Object(K.e)({deployTable:{id:"app.components.DeploymentTableSyncStrategy.deployTable",defaultMessage:"Deploy Table"},syncTable:{id:"app.components.DeploymentTableSyncStrategy.syncTable",defaultMessage:"Sync Table"},syncItem:{id:"app.components.DeploymentTableSyncStrategy.syncItem",defaultMessage:"Item"},noSync:{id:"app.components.DeploymentTableSyncStrategy.noSync",defaultMessage:"Don't sync"}}),mt=Object(K.e)({dontDeploy:{id:"app.components.TableSyncInfo.dontDeploy",defaultMessage:"Don't Deploy"},dontDeployInfo:{id:"app.components.TableSyncInfo.dontDeployInfo",defaultMessage:"By selecting this option the table will exist only on the platform, i.e., the table will not be replicated to any edges"},deployTable:{id:"app.components.TableSyncInfo.deployTable",defaultMessage:"Deploy Table"},deployTableInfo:{id:"app.components.TableSyncInfo.deployTableInfo",defaultMessage:"By selecting this option all items within the table will be pushed to the edges defined in this deployment. Any changes made to the table or items within the table will be replicated to the defined edges."},syncTable:{id:"app.components.TableSyncInfo.syncTable",defaultMessage:"Sync Table"},syncTableInfo:{id:"app.components.TableSyncInfo.syncTableInfo",defaultMessage:"When a table is selected to sync with edges it will set up a bi-directional contract between the platform and edges - if said table is modified on the platform, the change will be replicated to all edges within the deployment. Conversely, if said table is modified at the edge, it will be replicated on the platform and all the other edges defined in the deployment."},item:{id:"app.components.TableSyncInfo.item",defaultMessage:"Item"},itemInfo:{id:"app.components.TableSyncInfo.itemInfo",defaultMessage:"This option allows you to configure a subset of items from this table that should be deployed/synced."}}),yt=function(){return Y.a.createElement("dl",null,Y.a.createElement("dt",null,Y.a.createElement(K.b,Object.assign({},mt.dontDeploy))),Y.a.createElement("dd",null,Y.a.createElement(K.b,Object.assign({},mt.dontDeployInfo))),Y.a.createElement("dt",null,Y.a.createElement(K.b,Object.assign({},mt.deployTable))),Y.a.createElement("dd",null,Y.a.createElement(K.b,Object.assign({},mt.deployTableInfo))),Y.a.createElement("dt",null,Y.a.createElement(K.b,Object.assign({},mt.syncTable))),Y.a.createElement("dd",null,Y.a.createElement(K.b,Object.assign({},mt.syncTableInfo))),Y.a.createElement("dt",null,Y.a.createElement(K.b,Object.assign({},mt.item))),Y.a.createElement("dd",null,Y.a.createElement(K.b,Object.assign({},mt.itemInfo))))},bt=yt,gt=n("./app/cb-utils/getUrls.ts"),ht=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Et=Object(U.b)(Pe.f).withConfig({displayName:"DeploymentTableSyncStrategy__ButtonGroupWrapper"})(["button {border: 1px solid !important; /* make sure that our buttons have a border as the carousel in the deployment page removes button borders */}"]),Ot=function(e){function t(){O(this,t);var e=_(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._handleClick=function(t){e.props.onChange(t)},e._configureItemLevelSync=function(){e._handleClick(Xe.b.ITEM_LEVEL_SYNC)},e}return j(t,e),ht(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.strategy,r=t.showHelp,a=t.assetClass,s=this.props.match.params.deploymentName,o=n===Xe.b.ITEM_LEVEL_SYNC;return Y.a.createElement(Et,{size:"sm",className:"c-pointer"},r&&Y.a.createElement(et,{body:Y.a.createElement(bt,null),buttonConfig:{color:"primary",outline:!0}}),Y.a.createElement(Pe.e,{outline:!0,onClick:function(){return e._handleClick(Xe.b.NO_SYNC)},color:"primary",active:n===Xe.b.NO_SYNC},Y.a.createElement(K.b,Object.assign({},ft.noSync))),Y.a.createElement(Pe.e,{"data-cy":"deployment-deploy-table",outline:!0,onClick:function(){return e._handleClick(Xe.b.DEPLOY_TABLE)},color:"primary",active:n===Xe.b.DEPLOY_TABLE},Y.a.createElement(K.b,Object.assign({},ft.deployTable))),Y.a.createElement(Pe.e,{outline:!0,onClick:function(){return e._handleClick(Xe.b.DEPLOY_AND_SYNC_TABLE)},color:"primary",active:n===Xe.b.DEPLOY_AND_SYNC_TABLE},Y.a.createElement(K.b,Object.assign({},ft.syncTable))),Y.a.createElement(ct.Link,{to:gt.b.deployments(s,a),className:"btn btn-outline-primary "+(o?"c-pointer":"")+" "+(o?"active":"")},Y.a.createElement(K.b,Object.assign({},ft.syncItem))," ",o&&Y.a.createElement(dt.a,null)))}}]),t}(Y.a.PureComponent);Ot.defaultProps={showHelp:!1};var _t,jt=Object(ut.withRouter)(Ot),vt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),wt=function(e){function t(){v(this,t);var e=w(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._handleOnChange=function(t){var n=e.props.assetClass;if(t!==Xe.b.ITEM_LEVEL_SYNC){var r=Object(Xe.c)(n,t);e.props.onChange(n,r)}},e}return C(t,e),vt(t,[{key:"render",value:function(){var e=this.props,t=e.selected,n=e.assetClass;return Y.a.createElement(Pe.X,{striped:!0,size:"sm"},Y.a.createElement("thead",null,Y.a.createElement("tr",null,Y.a.createElement("th",null,Y.a.createElement(jt,{assetClass:n,onChange:this._handleOnChange,strategy:Object(Xe.f)(t),showHelp:!0})))))}}]),t}(Y.a.PureComponent),Ct=wt,xt=Object(K.e)({nameHeader:{id:"app.components.MultiTableAssetClass.nameHeader",defaultMessage:"Name"},strategyHeader:{id:"app.components.MultiTableAssetClass.strategyHeader",defaultMessage:"Strategy"}}),Tt=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),St=U.b.th.withConfig({displayName:"MultiTableAssetClass__SyncStrategyHeaderWrapper"})(["button {border: none !important;}"]),At=function(e,t){return t.filter(function(t){return t.asset_class===e})},Dt=function(e){function t(){x(this,t);var e=T(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._renderRows=function(t){var n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(e._renderTableRow(t[r]));return n},e._renderTableRow=function(t){var n=t.name;return Y.a.createElement("tr",{key:n},Y.a.createElement("td",null,n),Y.a.createElement("td",null,Y.a.createElement(jt,{assetClass:n,strategy:Object(Xe.f)(At(n,e.props.selected)),onChange:function(t){return e._handleOnChange(n,t)}})))},e._handleOnChange=function(t,n){if(n===Xe.b.ITEM_LEVEL_SYNC)e.props.showItemLevelSync(t);else{var r=Object(Xe.c)(t,n);e.props.onChange(t,r)}},e}return S(t,e),Tt(t,[{key:"render",value:function(){return Y.a.createElement(Pe.X,{striped:!0,size:"sm"},Y.a.createElement("thead",null,Y.a.createElement("tr",null,Y.a.createElement("th",null,Y.a.createElement(K.b,Object.assign({},xt.nameHeader))),Y.a.createElement(St,null,Y.a.createElement(K.b,Object.assign({},xt.strategyHeader)),Y.a.createElement(et,{body:Y.a.createElement(bt,null)})))),Y.a.createElement("tbody",null,this._renderRows(this.props.rows)))}}]),t}(Y.a.PureComponent),Pt=Dt;!function(e){e.TOGGLE_EXPAND_ALL="TOGGLE_EXPAND_ALL",e.TOGGLE_EXPAND_ASSET_CLASS="TOGGLE_EXPAND_ASSET_CLASS"}(_t||(_t={}));var Nt=n("./app/containers/Deploy/actionConstants.ts"),kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lt={expandAll:!1,entitiesPresentation:{services:{name:"services",displayName:Se.a.assetClassServices,isExpanded:!1,isFetching:!1,assets:[],previewText:""},portals:{name:"portals",displayName:Se.a.assetClassPortals,isExpanded:!1,isFetching:!1,assets:[],previewText:""},libraries:{name:"libraries",displayName:Se.a.assetClassLibraries,isExpanded:!1,isFetching:!1,assets:[],previewText:""},triggers:{name:"triggers",displayName:Se.a.assetClassTriggers,isExpanded:!1,isFetching:!1,assets:[],previewText:""},timers:{name:"timers",displayName:Se.a.assetClassTimers,isExpanded:!1,isFetching:!1,assets:[],previewText:""},roles:{name:"roles",displayName:Se.a.assetClassRoles,isExpanded:!1,isFetching:!1,assets:[],previewText:""},users:{name:"users",displayName:Se.a.assetClassUsers,isExpanded:!1,isFetching:!1,assets:[],previewText:""},devices:{name:"devices",displayName:Se.a.assetClassDevices,isExpanded:!1,isFetching:!1,assets:[],previewText:""},collections:{name:"collections",displayName:Se.a.assetClassCollections,isExpanded:!1,isFetching:!1,assets:[],previewText:""},adapters:{name:"adapters",displayName:Se.a.assetClassAdapters,isExpanded:!1,isFetching:!1,assets:[],previewText:""},plugins:{name:"plugins",displayName:Se.a.assetClassPlugins,isExpanded:!1,isFetching:!1,assets:[],previewText:""}}},Mt=function(e,t){return kt({},e,{isExpanded:t})},Rt=function(e,t){return oe()(e,function(e){return e.expandAll=t,e.entitiesPresentation=Object(Q.mapValues)(e.entitiesPresentation,function(t){return Mt(t,e.expandAll)}),e})},It=A,Ft=n("./node_modules/react-icons/lib/fa/refresh.js"),Ht=n.n(Ft),Bt=Ht.a,Gt=n("./app/containers/Console/state.ts"),Yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ut=function(){return function(e){return e.DeploymentAssetManager}},Wt=function(){return Object(V.a)(Ut(),function(e){return e})},Kt=function(){return Object(V.a)(Wt(),function(e){return e.expandAll})},qt=function(){return Object(V.a)(Wt(),function(e){return e.entitiesPresentation})},zt=function(e){return Object(V.a)(be.serviceSelectors.wholeSlice,qt(),Object(he.b)(e),Object(Z.c)("services","FETCH_ALL"),function(e,t,n,r){var a=rn(n,"services");return Yt({},t.services,{isFetching:r,previewText:sn(a,e,r),assets:a})})},Xt=function(e){return Object(V.a)(be.portalSelectors.wholeSlice,qt(),Object(he.b)(e),Object(Z.c)("portals","FETCH_ALL"),function(e,t,n,r){var a=rn(n,"portals");return Yt({},t.portals,{isFetching:r,previewText:sn(a,e,r),assets:a})})},Vt=function(e){return Object(V.a)(be.librarySelectors.selectCustomLibraries(),qt(),Object(he.b)(e),Object(Z.c)("libraries","FETCH_ALL"),function(e,t,n,r){var a=rn(n,"libraries");return Yt({},t.libraries,{isFetching:r,previewText:sn(a,e,r),assets:a})})},Qt=function(e){return Object(V.a)(be.triggerSelectors.wholeSlice,qt(),Object(he.b)(e),Object(Z.c)("triggers","FETCH_ALL"),function(e,t,n,r){var a=rn(n,"triggers");return Yt({},t.triggers,{isFetching:r,previewText:sn(a,e,r),assets:a})})},Zt=function(e){return Object(V.a)(be.timerSelectors.wholeSlice,qt(),Object(he.b)(e),Object(Z.c)("timers","FETCH_ALL"),function(e,t,n,r){var a=rn(n,"timers");return Yt({},t.timers,{isFetching:r,previewText:sn(a,e,r),assets:a})})},Jt=function(e){return Object(V.a)(be.userSelectors.wholeSlice,qt(),Object(he.b)(e),Object(Z.c)("users","FETCH_TOTAL"),function(e,t,n,r){var a=rn(n,"users");return Yt({},t.users,{isFetching:r,previewText:sn(a,e,r),assets:a})})},$t=function(e){return Object(V.a)(be.deviceSelectors.wholeSlice,qt(),Object(he.b)(e),Object(Z.c)("devices","FETCH_TOTAL"),function(e,t,n,r){var a=rn(n,"devices");return Yt({},t.devices,{isFetching:r,previewText:sn(a,e,r),assets:a})})},en=function(e){return Object(V.a)(be.collectionSelectors.wholeSlice,qt(),Object(he.b)(e),function(e,t,n){var r=n.filter(function(e){return"services"!==e.asset_class&&"devices"!==e.asset_class&&"users"!==e.asset_class&&"adaptors"!==e.asset_class&&"plugins"!==e.asset_class&&"roles"!==e.asset_class&&"timers"!==e.asset_class&&"triggers"!==e.asset_class&&"libraries"!==e.asset_class&&"portals"!==e.asset_class});return Yt({},t.collections,{isFetching:e.isFetching,previewText:on(r,e),assets:r})})},tn=function(e){return Object(V.a)(be.adapterSelectors.wholeSlice,qt(),Object(he.b)(e),Object(Z.c)("adaptors","FETCH_ALL"),function(e,t,n,r){var a=rn(n,"adaptors");return Yt({},t.adapters,{isFetching:r,previewText:sn(a,e,r),assets:a})})},nn=function(e){return Object(V.a)(be.pluginSelectors.wholeSlice,qt(),Object(he.b)(e),Object(Z.c)("plugins","FETCH_TOTAL"),function(e,t,n,r){var a=rn(n,"plugins");return Yt({},t.plugins,{isFetching:r,previewText:sn(a,e,r),assets:a})})},rn=function(e,t){return e.filter(function(e){return e.asset_class===t})},an=function(e,t){return t?"...":Object(Gt.e)(e)&&e.count.total.hasFetched?""+e.count.total.value:e.hasFetched?""+Object.keys(e.entities).length:"Error"},sn=function(e,t,n){return Object(Xe.g)(e)||Object(Xe.i)(e)?"All":e.length+" of "+an(t,n)},on=function(e,t){var n=Object.keys(t.entities).length,r=0;for(var a in t.entities)Object(Xe.d)(e,a)&&(r+=1);return n===r?"All":r+" of "+an(t)},ln=function(){return{type:_t.TOGGLE_EXPAND_ALL}},cn=function(e){return{type:_t.TOGGLE_EXPAND_ASSET_CLASS,payload:{assetClass:e}}},un=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),pn=Object(U.b)(Pe.o).withConfig({displayName:"DeploymentAssetManager__ColWrapper"})(["padding-bottom: 1rem;"]),dn=function(e){function t(){D(this,t);var e=P(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._renderAssetClass=function(t,n,r,a,s){return Y.a.createElement(pn,{key:r,xs:12,sm:12,lg:t.isExpanded?12:6,xl:t.isExpanded?12:4,"data-cy":"deployment-asset-class"},Y.a.createElement(qe,{name:t.displayName,assetClass:r,assetClassIcon:s,previewText:t.previewText,isFetching:t.isFetching,isExpanded:t.isExpanded,assets:n,selectedAssets:t.assets,onExpand:function(){return e.props.toggleAssetClass(t.name)},assetComponent:a,onToggleDeploy:function(t,n){return e.props.onDeployChange(r,t,n)},onToggleDeployAll:function(t){return e.props.onToggleDeployAll(r,t)},onToggleSync:function(t,n){return e.props.onSyncChange(r,t,n)},onToggleSyncAll:function(t){return e.props.onToggleSyncAll(r,t)},onAssetChange:function(t,n){return e.props.onAssetChange(t,n)}}))},e}return N(t,e),un(t,[{key:"render",value:function(){var e=this.props,t=e.expandAll,n=e.toggleExpandAll,r=e.devicesPresentation,a=e.servicesPresentation,s=e.portalsPresentation,o=e.pluginsPresentation,i=e.usersPresentation,l=e.collectionsPresentation,c=e.librariesPresentation,u=e.triggersPresentation,p=e.timersPresentation,d=e.adaptersPresentation;return Y.a.createElement(lt,{header:Y.a.createElement(Pe.q,null,Y.a.createElement(Pe.U,null,Y.a.createElement(Pe.o,{xs:"10"},Y.a.createElement("h2",null,Y.a.createElement(K.b,Object.assign({},ke.header))," ",Y.a.createElement(Pe.e,{className:"c-pointer",color:"default",onClick:this.props.refresh}," ",Y.a.createElement(Bt,null)," "))),Y.a.createElement(Pe.o,{xs:"2"},Y.a.createElement(Pe.e,{className:"float-right",color:"default",onClick:n},t?Y.a.createElement(K.b,Object.assign({},ke.collapseAllAssetClasses)):Y.a.createElement(K.b,Object.assign({},ke.expandAllAssetClasses))))))},this._renderAssetClass(r,this.props.entities.devices,"devices",Ct,De.k),this._renderAssetClass(d,this.props.entities.adaptors,"adaptors",ot,De.a),this._renderAssetClass(a,this.props.entities.services,"services",ot,De.h),this._renderAssetClass(c,this.props.entities.libraries,"libraries",ot,De.r),this._renderAssetClass(l,this.props.entities.collections,"collections",Pt,De.i),this._renderAssetClass(i,this.props.entities.users,"users",Ct,De.D),this._renderAssetClass(u,this.props.entities.triggers,"triggers",ot,De.C),this._renderAssetClass(p,this.props.entities.timers,"timers",ot,De.A),this._renderAssetClass(s,this.props.entities.portals,"portals",ot,De.v),this._renderAssetClass(o,this.props.entities.plugins,"plugins",ot,De.u))}}]),t}(Y.a.PureComponent),fn=function(e,t){var n=t.deploymentName;return Object(V.b)({expandAll:Kt(),servicesPresentation:zt(n),portalsPresentation:Xt(n),librariesPresentation:Vt(n),triggersPresentation:Qt(n),timersPresentation:Zt(n),usersPresentation:Jt(n),devicesPresentation:$t(n),collectionsPresentation:en(n),adaptersPresentation:tn(n),pluginsPresentation:nn(n)})},mn=Object(W.b)(fn,k),yn=Object(X.a)({key:"DeploymentAssetManager",reducer:It}),bn=Object(z.d)(yn,mn)(dn),gn=Object(K.e)({header:{id:"app.components.DeploymentEdgeManager.header",defaultMessage:"Select Edges"},expandTitle:{id:"app.components.DeploymentEdgeManager.expandTitle",defaultMessage:"Open full filterable edge grid"},applyToAll:{id:"app.components.DeploymentEdgeManager.applyToAll",defaultMessage:"Apply to all current and future edges"},rowsPerPage:{id:"app.components.DeploymentEdgeManager.rowsPerPage",defaultMessage:"rows per page"},allSelected:{id:"app.components.DeploymentEdgeManager.allSelected",defaultMessage:"All edges selected"},edgeCount:{id:"app.components.DeploymentEdgeManager.edgeCount",defaultMessage:"{selectedEdges} of {totalEdges} selected"},fullGrid:{id:"app.components.DeploymentEdgeManager.fullGrid",defaultMessage:"Full Grid"}}),hn=n("./app/cb-utils/console-entity-models/index.ts"),En=n("./app/components/Icons/index.ts"),On=n("./app/components/DeploymentEdgeGrid/index.tsx"),_n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),jn=Object(U.b)(Pe.g).withConfig({displayName:"DeploymentEdgeManager__FullWidthCard"})(["width: 100%;"]),vn=U.b.div.withConfig({displayName:"DeploymentEdgeManager__HeaderWrapper"})(["display: flex;align-items: center;"]),wn=U.b.div.withConfig({displayName:"DeploymentEdgeManager__TableContainer"})(["height: 60vh;overflow-y: scroll;"]),Cn=function(e){function t(){L(this,t);var e=M(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e._renderSelectedEdgeCount=function(){var t=e.props,n=t.selectedEdges,r=t.totalEdges,a=t.intl.formatMessage;return Y.a.createElement("strong",{className:"ml-auto"},Object(hn.shouldDeployToAllEdges)(n)?Y.a.createElement(K.b,Object.assign({},gn.allSelected)):a(gn.edgeCount,{selectedEdges:n.length,totalEdges:r}))},e}return R(t,e),_n(t,[{key:"render",value:function(){var e=this.props,t=e.selectedEdges,n=e.onToggleEdge,r=e.onToggleAll,a=e.deploymentName,s=e.intl.formatMessage,o=gt.b.deployments(a,"edges");return Y.a.createElement(lt,{header:Y.a.createElement(vn,null,Y.a.createElement("h2",null,Y.a.createElement(K.b,Object.assign({},gn.header)))," ",Y.a.createElement(ct.Link,{to:o},Y.a.createElement(Pe.e,{className:"c-pointer",color:"default",title:s(gn.expandTitle)}," ",Y.a.createElement(K.b,Object.assign({},gn.fullGrid))," ",Y.a.createElement(En.n,null))),this._renderSelectedEdgeCount())},Y.a.createElement("div",null,Y.a.createElement("input",{type:"checkbox",id:"allToggleBox",checked:Object(hn.shouldDeployToAllEdges)(t),onChange:function(e){return r(e.target.checked)}}),Y.a.createElement("label",{htmlFor:"allToggleBox",className:"ml-2"},Y.a.createElement(K.b,Object.assign({},gn.applyToAll)))),Y.a.createElement(jn,null,Y.a.createElement(Re,null,Y.a.createElement(wn,null,Y.a.createElement(On.a,{selectedEdges:t,columnNames:["name"],onToggleEdges:n,allowFilter:!1})))))}}]),t}(Y.a.PureComponent),xn=Object(K.f)(Cn),Tn=n("./app/components/LoadingIndicator/index.tsx"),Sn=n("./app/components/ConsolePage/index.tsx"),An=n("./app/components/ConsolePageHeader/index.tsx"),Dn=n("./app/components/ConsolePageFooter/index.tsx"),Pn=n("./app/components/DeployHelmet/index.tsx"),Nn=n("./app/components/EntityDescriptionEditor/index.tsx"),kn=n("./app/containers/Console/actions/ui.ts"),Ln=n("./app/containers/Console/routes/deployments.ts"),Mn=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Rn=Object(U.b)(Pe.v).withConfig({displayName:"DeployDetail__FormWrapper"})(["width: 100%;"]),In=function(e){function t(){I(this,t);var e=F(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.systemKey=e.props.match.params.systemKey,e.deploymentName=e.props.match.params.deploymentName,e.renderDeleteButton=function(){var t=e.props.deleteDeployment;return Y.a.createElement(Pe.e,{color:"link",onClick:function(){return t(e.systemKey)},"data-cy":"delete-deployment"},Y.a.createElement(De.B,null)," ",Y.a.createElement(K.b,Object.assign({},Ae.deleteDeployment)))},e._renderCancelButton=function(){return Y.a.createElement(Pe.e,{color:"default",onClick:e.props.discardChanges},Y.a.createElement(K.b,Object.assign({},Se.a.discardChanges)))},e._getSubmitButtonText=function(){return e.props.isSubmitting?Y.a.createElement(Tn.a,null):Y.a.createElement(K.b,Object.assign({},Se.a.saveAndExit))},e._renderSubmitButton=function(){var t=e.props,n=t.deployment,r=t.isSubmitting,a=t.onSubmit;return Y.a.createElement(Pe.e,{"data-cy":"deployment-update-deployment",disabled:r||""===n.name,color:"primary",onClick:function(){return a(e.systemKey)}},e._getSubmitButtonText())},e._renderHeader=function(){return Y.a.createElement(An.a,{header:e._renderHeaderContents(),subHeader:Y.a.createElement(Nn.a,{value:e.props.deployment.description,onChange:e.props.onDescriptionChange,defaultValue:"Description"})})},e._renderHeaderContents=function(){return Y.a.createElement("div",null,e.deploymentName)},e}return H(t,e),Mn(t,[{key:"componentWillMount",value:function(){this.props.init(this.systemKey,this.deploymentName)}},{key:"render",value:function(){var e=this,t=this.props,n=t.entities,r=t.onToggleEdge,a=t.onEdgeToggleAll,s=t.deployment,o=t.onAssetDeployToggle,i=t.onAssetSyncToggle,l=t.onAssetDeployToggleAll,c=t.onAssetSyncToggleAll,u=t.onAssetChange,p=t.refreshAssets,d=t.totalEdgeCount;return Y.a.createElement(Y.a.Fragment,null,Y.a.createElement(Pn.a,null),s?Y.a.createElement(Y.a.Fragment,null,Y.a.createElement(Sn.a,{subheader:this._renderHeader()},Y.a.createElement(Rn,null,Y.a.createElement(Pe.q,null,Y.a.createElement(Pe.U,null,Y.a.createElement(Pe.o,{sm:12,lg:6},Y.a.createElement(bn,{deploymentName:this.deploymentName,refresh:function(){return p(e.systemKey)},entities:n,onDeployChange:function(e,t,r){return o(n[e].entities,e,t,r)},onToggleDeployAll:l,onSyncChange:function(e,t,r){return i(n[e].entities,e,t,r)},onToggleSyncAll:c,selectedAssets:s.assets,onAssetChange:u})),Y.a.createElement(Pe.o,{sm:12,lg:6},Y.a.createElement(xn,{deploymentName:this.deploymentName,edges:n.edges.entities,onToggleAll:function(e){return a(e)},onToggleEdge:r,selectedEdges:s.edges,totalEdges:d})))))),Y.a.createElement(Dn.a,{leftButtons:this.renderDeleteButton,actionButtons:function(){return Y.a.createElement(Y.a.Fragment,null,e._renderCancelButton(),e._renderSubmitButton())}})):Y.a.createElement(Tn.a,{forPage:!0}))}}]),t}(Y.a.Component),Fn=function(e,t){return Object(V.b)({entities:ae(),deployment:Object(he.c)(t.match.params.deploymentName),isSubmitting:re(),totalEdgeCount:be.edgeSelectors.filteredCount()})},Hn=Object(W.b)(Fn,B),Bn=Object(X.a)({key:"DeploymentDetail",reducer:ce}),Gn=Object(q.a)({key:"DeploymentDetail",saga:u});t.default=Object(z.d)(Bn,Gn,Hn)(In)}});
//# sourceMappingURL=26.e69cc121e265b40c94f6.chunk.js.map